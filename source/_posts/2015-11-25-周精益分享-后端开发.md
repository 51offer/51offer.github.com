title: 周精益分享 - 后端开发
date: 2015-11-25  10:30:00
tags:
---

## Swift学习之二 - 张超耀
### 深度理解Swift的”?”和”!”
### Swift之断言
### 浅谈Swift的closure


## InputView与键盘响应优化方案 - 杨志平


## 写负责任的代码之异常处理 - 曾铭

> 千万不要以为你可以忽视这个特殊的返回值，因为它是一种“可能性”。代码漏掉任何一种可能出现的情况，都可能产生意想不到的灾难性结果。

- 重视代码（及业务）逻辑的异常情况，将其视为『正常流程』的一部分。


- 重视函数的抛出异常，将其视为返回值之一（union类型）。

### 政策之后的对策

``` java
String foo() throws MyException {
}
```

- catch 全部异常


- try 全部代码

``` java
try {
  ...
  ...
  ... foo() ...
  ...
  ...
} catch (Exception e) {}
```

#### 我们 API 为什么难调试

- Service 层未声明抛出异常，也会抛出异常
- 抛出的异常 API 层记入日志，向上抛时却丢弃了异常信息
- API 层方法代码全部 try，很难定位到是哪一行出问题

### 推荐的对策

- 只 catch 指定的 exception
- try 进可能的小

``` java
try {
  foo();
} catch (MyException e) {
  Log.warning(e);
}
```

- 源头思考全部可能性，内部的问题不抛给别人
- 不要试图忽略（隐藏）错误，每次出错都是优化代码（反思自己局限）的好机会。否则，你终将付出代价。
