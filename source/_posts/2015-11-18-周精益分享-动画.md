title: 周精益分享 - 动画
date: 2015-11-18  10:30:00
tags:
---
## Android L动画  - 吴明
- Touch feedback（触摸反馈）
	- 波纹有边界
	- 波纹超出边界
	- 波纹颜色
- Reveal effect（揭露效果）
- liecap
	- Circular Reveal动画
- Activity transitions（Activity转换效果）
	- Enter（进入）
		- 普通Transition
			- explode：从场景的中心移入或移出 
			- slide：从场景的边缘移入或移出 
			- fade：调整透明度产生渐变效果
		- Shared Elements Transition 共享元素转换:共享两个				acitivity中共同的元素
			- changeBounds -  改变目标视图的布局边界
			- changeClipBounds - 裁剪目标视图边界
			- changeTransform - 改变目标视图的缩放比例和旋转角度		changeImageTransform - 改变目标图片的大小和缩放比例
	- Exit（退出）
	- [demo地址](http://pan.baidu.com/s/1o6Kngnw)
![Markdown preferences pane](http://7xn0ue.com1.z0.glb.clouddn.com/Untitled123.gif)


##objectorAnimator 动画  王进

## 花花绿绿的ProgressBar  杨俊构

*参考[Android 基础入门教程]( http://www.runoob.com/w3cnote/android-tutorial-progressbar.html)*

- ProgressBar(进度条)是Android基本UI控件，ProgressBar的应用场景很多，比如 用户登录时，后台在发请求，以及等待服务器返回信息，这个时候会用到进度条；或者当在进行一些比较 耗时的操作，需要等待一段较长的时间，这个时候如果没有提示，用户可能会以为程序Carsh或者手机死机 了，这样会大大降低用户体验，所以在需要进行耗时操作的地方，添加上进度条，让用户知道当前的程序 在执行中，也可以直观的告诉用户当前任务的执行进度等！使用进度条可以给我带来这样的便利！ 


- ProgressBar[官方API文档](http://androiddoc.qiniudn.com/reference/android/widget/ProgressBar.html)，ProgressBar继承与View类，直接子类有AbsSeekBar和ContentLoadingProgressBar， 其中AbsSeekBar的子类有SeekBar和RatingBar，可见这二者也是基于ProgressBar实现的

![](http://7xohph.com1.z0.glb.clouddn.com/46760225.jpg)

- 常用属性详解：

> - android:max：进度条的最大值
> - android:progress：进度条已完成进度值
> - android:progressDrawable：设置轨道对应的Drawable对象
> - android:indeterminate：如果设置成true，则进度条不精确显示进度
> - android:indeterminateDrawable：设置不显示进度的进度条的Drawable对象
> - android:indeterminateDuration：设置不精确显示进度的持续时间
> - android:secondaryProgress：二级进度条，类似于视频播放的一条是当前播放进度，一条是缓冲进度，前者通过progress属性进行设置！

- 对应的再Java中我们可调用下述方法：

> - getMax()：返回这个进度条的范围的上限
> - getProgress()：返回进度
> - getSecondaryProgress()：返回次要进度
> - incrementProgressBy(int diff)：指定增加的进度
> - isIndeterminate()：指示进度条是否在不确定模式下
> - setIndeterminate(boolean indeterminate)：设置不确定模式下

- 系统默认进度条使用实例：

![](http://7xohph.com1.z0.glb.clouddn.com/34906854.jpg)

### 耀眼的IOS的ProgressBar ，参看[开源中国IOS代码库](http://www.oschina.net/ios/codingList/373/ios-progress) 


### 圆形进度条

> 网上一个简单的自定义圆形进度条！代码还是比较简单，容易理解，有兴趣可以看看，或者进行相关扩展~

![](http://7xohph.com1.z0.glb.clouddn.com/17272953.jpg)

- 实现代码：自定义View类：

```java
	
	/**
	 * Created by Jay on 2015/8/5 0005.
	 */
	public class CirclePgBar extends View {
	
	
	    private Paint mBackPaint;
	    private Paint mFrontPaint;
	    private Paint mTextPaint;
	    private float mStrokeWidth = 50;
	    private float mHalfStrokeWidth = mStrokeWidth / 2;
	    private float mRadius = 200;
	    private RectF mRect;
	    private int mProgress = 0;
	    //目标值，想改多少就改多少
	    private int mTargetProgress = 90;
	    private int mMax = 100;
	    private int mWidth;
	    private int mHeight;
	
	
	    public CirclePgBar(Context context) {
	        super(context);
	        init();
	    }
	
	    public CirclePgBar(Context context, AttributeSet attrs) {
	        super(context, attrs);
	        init();
	    }
	
	    public CirclePgBar(Context context, AttributeSet attrs, int defStyleAttr) {
	        super(context, attrs, defStyleAttr);
	        init();
	    }
	
	
	    //完成相关参数初始化
	    private void init() {
	        mBackPaint = new Paint();
	        mBackPaint.setColor(Color.WHITE);
	        mBackPaint.setAntiAlias(true);
	        mBackPaint.setStyle(Paint.Style.STROKE);
	        mBackPaint.setStrokeWidth(mStrokeWidth);
	
	        mFrontPaint = new Paint();
	        mFrontPaint.setColor(Color.GREEN);
	        mFrontPaint.setAntiAlias(true);
	        mFrontPaint.setStyle(Paint.Style.STROKE);
	        mFrontPaint.setStrokeWidth(mStrokeWidth);
	
	
	        mTextPaint = new Paint();
	        mTextPaint.setColor(Color.GREEN);
	        mTextPaint.setAntiAlias(true);
	        mTextPaint.setTextSize(80);
	        mTextPaint.setTextAlign(Paint.Align.CENTER);
	    }
	
	
	    //重写测量大小的onMeasure方法和绘制View的核心方法onDraw()
	    @Override
	    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
	        super.onMeasure(widthMeasureSpec, heightMeasureSpec);
	        mWidth = getRealSize(widthMeasureSpec);
	        mHeight = getRealSize(heightMeasureSpec);
	        setMeasuredDimension(mWidth, mHeight);
	
	    }
	
	
	    @Override
	    protected void onDraw(Canvas canvas) {
	        initRect();
	        float angle = mProgress / (float) mMax * 360;
	        canvas.drawCircle(mWidth / 2, mHeight / 2, mRadius, mBackPaint);
	        canvas.drawArc(mRect, -90, angle, false, mFrontPaint);
	        canvas.drawText(mProgress + "%", mWidth / 2 + mHalfStrokeWidth, mHeight / 2 + mHalfStrokeWidth, mTextPaint);
	        if (mProgress < mTargetProgress) {
	            mProgress += 1;
	            invalidate();
	        }
	
	    }
	
	    public int getRealSize(int measureSpec) {
	        int result = 1;
	        int mode = MeasureSpec.getMode(measureSpec);
	        int size = MeasureSpec.getSize(measureSpec);
	
	        if (mode == MeasureSpec.AT_MOST || mode == MeasureSpec.UNSPECIFIED) {
	            //自己计算
	            result = (int) (mRadius * 2 + mStrokeWidth);
	        } else {
	            result = size;
	        }
	
	        return result;
	    }
	
	    private void initRect() {
	        if (mRect == null) {
	            mRect = new RectF();
	            int viewSize = (int) (mRadius * 2);
	            int left = (mWidth - viewSize) / 2;
	            int top = (mHeight - viewSize) / 2;
	            int right = left + viewSize;
	            int bottom = top + viewSize;
	            mRect.set(left, top, right, bottom);
	        }
	    }
	
	
	}

```


- 然后在布局文件中加上：

``` xml

	 <com.jay.progressbardemo.CirclePgBar
       android:layout_width="match_parent"
	   android:layout_height="match_parent"/>

```

### 总结
 - progressbar是Android中的常用控件，在实际开发中和动画结合较多，好的进度条可以缓解使用者焦躁的情趣，自定义圆形进度条可以自行完善，然后用到实际开发中！








## layer-list阴影效果 李仙鹏

## 零部署的云服务 - 王胜

> 本周的分享主题是动画，但之前7月份我已经分享过一次，[知其所以然](http://51offer.github.io/2015/07/07/%E7%A7%BB%E5%8A%A8%E7%BB%84%E5%91%A8%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB-%E7%9F%A5%E5%85%B6%E6%89%80%E4%BB%A5%E7%84%B6/) 。再加上前面几位已经对android的动画介绍的很完整了，所以我就分享另一个话题『云平台下的零部署开发网站』。

### 牵扯的技能

- Git
- 任何一门后端开发语言

### 搭建步骤

[AZURE](https://tryappservice.azure.com/zh-cn) -> 点击 [Web应用模块](https://azure.microsoft.com/zh-cn/services/app-service/web/) -> 选择语言，点击**创建Web应用** -> 选择模板，点击**创建**，至此，应用以创建，点击页面上站点url，就能看到新创建的Web站点了。

### 修改代码，Git提交自动完成部署

复制创建成功页面『使用 Git 克隆或推送』里的Git地址，将初始化源码clone到本地，然后编辑代码，修改功能。完成后，直接push到远程，云平台自动完成部署。再看看网页是不是已经发生变化了。

```Shell
Victors-MPB:azure wangsheng$ git clone https://$4f743e5d-0ee0-4-231-b9ee:WSc8Szx4Rf30apo3Ky7hpw6mXAadAZYvn1zagCvMaboj7mHFyJ2vzuYn9i12@4f743e5d-0ee0-4-231-b9ee.scm.azurewebsites.net/4f743e5d-0ee0-4-231-b9ee.git
Cloning into '4f743e5d-0ee0-4-231-b9ee'...
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (3/3), done.
remote: Total 4 (delta 0), reused 0 (delta 0)
Unpacking objects: 100% (4/4), done.
Checking connectivity... done.
Victors-MPB:azure wangsheng$ ls
4f743e5d-0ee0-4-231-b9ee
Victors-MPB:azure wangsheng$ cd 4f743e5d-0ee0-4-231-b9ee/
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git br
* master
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git log
commit cf6edda65210ef7254f9bc545c778489f123620e
Author: windowsazure <windowsazure>
Date:   Fri Nov 20 03:53:00 2015 +0000

    Initial Commit
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ ls
favicon.ico	index.php
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ vi index.php
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git st
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git checkout -- <file>..." to discard changes in working directory)

	modified:   index.php

no changes added to commit (use "git add" and/or "git commit -a")
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git diff
diff --git a/index.php b/index.php
<?php
index 712f825..50a17e7 100644
--- a/index.php
+++ b/index.php
@@ -1,3 +1,4 @@
 <?php
     echo "Hello World"
-?>
\ No newline at end of file
+    echo "hack it."
+?>
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git ci -am "add one line."
[master 6c5551f] add one line.
 1 file changed, 2 insertions(+), 1 deletion(-)
Victors-MPB:4f743e5d-0ee0-4-231-b9ee wangsheng$ git push origin master
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 324 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
remote: Updating branch 'master'.
remote: Updating submodules.
remote: Preparing deployment for commit id '6c5551f090'.
remote: Generating deployment script.
remote: Generating deployment script for Web Site
remote: Generated deployment script files
remote: Running deployment command...
remote: Handling Basic Web Site deployment.
remote: Finished successfully.
remote: Deployment successful.
```

对，后端开发可以如此简单快乐地开发部署！！！



