title: 周精益分享 - 程序员装逼指南二期
date: 2015-11-04  10:30:00
tags:
---
## Android 单元测试  吴明
- [Android单元测试支持](https://developer.android.com/intl/zh-cn/training/activity-testing/preparing-activity-testing.html)
	- Android studio 1.2 beta3版本，原生支持单元测试
- 环境搭建 
	- 配置环境命令：./gradlew build connectedCheck  
- 测试示例	
	-  ![MacDown Screenshot](http://7xn0ue.com1.z0.glb.clouddn.com/420E036F-4D69-47F4-A639-5A5B294F7BDD.png)
	
```
public class MyFirstTestActivityTest extends ActivityInstrumentationTestCase2<MyFirstTestActivity> {

    private MyFirstTestActivity mFirstTestActivity;
    private TextView mFirstTestText;

    public MyFirstTestActivityTest() {
        super(MyFirstTestActivity.class);
    }

    @Override
    protected void setUp() throws Exception {
        super.setUp();
        mFirstTestActivity = getActivity();
        mFirstTestText =
                (TextView) mFirstTestActivity
                .findViewById(R.id.my_first_test_text_view);
    }
}

```
- ps:由于配置环境一直报:

```
Test running failed: Instrumentation run failed due to 'java.lang.RuntimeException'

```

- [Automating UI Tests](https://developer.android.com/intl/zh-cn/training/testing/ui-testing/index.html)
- [Building Effective Unit Tests](https://developer.android.com/intl/zh-cn/training/testing/unit-testing/index.html)
- [Testing Display  Performance](https://developer.android.com/intl/zh-cn/training/testing/performance.html)
- 问题：
	-  运行在模拟器上，通过对模拟器的操作或者mock，来触发函数调用，进而对其结果进行验证
	-  测试的编写和维护较为困难



## Linux 文件权限入门 - 曾铭

##Android 压力测试工具 Monkey&MonkeyRunner- 杨俊构

##人脸识别技术简单介绍- 王进
#### Android自带的API:FaceDetector
  - Step 1: 读取bitmap图片（API 只接受Bitmap）
  ````
  Bitmap sampleBmp=BitmapFactory.decodeResource(getResources(), R.drawable.sample1);
  ```
  (拍照或者从相册中也可以)
  - Step 2: 通过FaceDetector API进行人脸识别
  ```
  //FaceDetecor只能读取RGB 565格式的Bitmap
  Bitmap tmpBmp = inputImage.copy(Bitmap.Config.RGB_565, true);
  //新建FaceDetector 实例，
  FaceDetector faceDet = new FaceDetector(tmpBmp.getWidth(), tmpBmp.getHeight(), MAX_FACES);//MAX_FACES 搜索人脸个数
  // 调用findFaces方法，将数据储存在facelist中
  FaceDetector.Face[] faceList = new FaceDetector.Face[MAX_FACES];
faceDet.findFaces(tmpBmp, faceList);
  ```
  > 找人脸的原理是：找眼睛。
  它返回的人脸数据face中，
  通过调用public float eyesDistance ()，得到眼距
  public void getMidPoint (PointF point)，得到两眼中心点位置。
  public float confidence () 可以返回该人脸数据的可信度(0~1)，这个值越大，该人脸数据的准确度也就越高
  
  - Step3:对原图进行缩放，并在图上显示人脸框
 
 -  吐槽：
 A，只能接受Bitmap 格式的数据；
 B，只能识别双眼距离大于20 像素的人脸像（当然，这个可在framework层中修改）；
 C，只能检测出人脸的位置（双眼的中心点及距离），不能对人脸进行匹配（查找指定的脸谱）。 
###第三方
 - face++（他有在线API可调用，离线SDK）
   - 在线API：基础版API供免费调用测试和小规模使用（会尽力维护API服务稳定性，但不保证每次调用均会成功），企业版API相对基础版API在算法和稳定性方面会有更好的表现
   - 离线SDK包括人脸关键点定位等功能。

## Android启动模式之singelTask扫盲－ 李仙鹏
