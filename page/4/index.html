<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>51offer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="每周分享博客">
<meta property="og:type" content="website">
<meta property="og:title" content="51offer">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="51offer">
<meta property="og:description" content="每周分享博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="51offer">
<meta name="twitter:description" content="每周分享博客">
  
    <link rel="alternative" href="/atom.xml" title="51offer" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">移动组团队</a></h1>
		</hgroup>

		
		<p class="header-subtitle">MobileBlogs</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/51offer" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="/ming.z@51offer.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a> <a href="/tags/JUnit4/" style="font-size: 10px;">JUnit4</a> <a href="/tags/Playground/" style="font-size: 10px;">Playground</a> <a href="/tags/blog-tools-ci/" style="font-size: 10px;">blog, tools, ci</a> <a href="/tags/express/" style="font-size: 10px;">express</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/javaScript/" style="font-size: 10px;">javaScript</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/phython/" style="font-size: 10px;">phython</a> <a href="/tags/shell/" style="font-size: 20px;">shell</a> <a href="/tags/tablayout/" style="font-size: 10px;">tablayout</a> <a href="/tags/weui/" style="font-size: 10px;">weui</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a> <a href="/tags/同步异步/" style="font-size: 10px;">同步异步</a> <a href="/tags/坑/" style="font-size: 10px;">坑</a> <a href="/tags/开发效率/" style="font-size: 10px;">开发效率</a> <a href="/tags/效率/" style="font-size: 10px;">效率</a> <a href="/tags/游戏/" style="font-size: 10px;">游戏</a> <a href="/tags/研发杂谈/" style="font-size: 10px;">研发杂谈</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/网站/" style="font-size: 10px;">网站</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.tomatopeter.com/">tomatopeter&#39;s blog&#39;</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://ioi.im/">ming.z&#39;s blog</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我们是一群爱折腾的技术宅，立志在留学行业做些好玩的事。如果你相信技术拥有强大的力量，有很多有趣的念头不知在何处能实践，不妨加入我们一起切磋。。。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">移动组团队</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">移动组团队</h1>
			</hgroup>
			
			<p class="header-subtitle">MobileBlogs</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/51offer" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/p/1006062608078012/home" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="/ming.z@51offer.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-周精益分享-英语" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/23/周精益分享-英语/" class="article-date">
  	<time datetime="2015-10-23T10:30:00.000Z" itemprop="datePublished">2015-10-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/23/周精益分享-英语/">周精益分享 - 英语</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="参与开源提高英语读写_-_王胜">参与开源提高英语读写 - 王胜</h2><h3 id="阅读能力">阅读能力</h3><ul>
<li>泡开源论坛，查看讨论</li>
<li>阅读源代码包括注解、代码提交说明</li>
</ul>
<blockquote>
<p>前期泡论坛，看注解、提交说明时需耐下性子，借助翻译工具。时间长了，久而久之，词汇量就上升了。</p>
</blockquote>
<h3 id="书写能力">书写能力</h3><ul>
<li>试图修复bug或者提交建议</li>
<li>尝试翻译开源软件的使用手册</li>
</ul>
<blockquote>
<p>经历了阅读阶段的词汇量的积累，可以再通过书写来巩固词汇量的运用。此阶段要拥有儿童学语言的勇气，不要担心自己写错，被其他参与开源的人看到笑话。</p>
</blockquote>
<h2 id="MOOC_上手_-_曾铭">MOOC 上手 - 曾铭</h2><h3 id="Massive_Open_Online_Courses_大型开放式网络课程">Massive Open Online Courses 大型开放式网络课程</h3><ul>
<li>Coursera</li>
<li>Udacity</li>
<li>edX</li>
<li>中国大学MOOC</li>
</ul>
<h3 id="上手感受">上手感受</h3><ul>
<li>视频教程 vs 正规课程</li>
<li>视频教程：目标不清晰、散漫不专注、孤单、没有回顾总结，易放弃（遗忘、注意力转移）</li>
<li>正规课程：目标清晰（结课证）、专注（每周测验）、作业互评、论坛讨论，易放弃（压力）</li>
<li>专业教育的未来（非基本教育）</li>
</ul>
<h3 id="建议">建议</h3><ul>
<li>根据兴趣上手，不必贪多，先坚持完成 1 门课(4-6h/w 并不容易)</li>
<li>只对视频教程感兴趣？为网易公开课点个赞</li>
</ul>
<h2 id="dispatch_sync的坑_-_潘君">dispatch_sync的坑 - 潘君</h2><ul>
<li><p>官方文档</p>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dispatch_sync</span><br><span class="line">Submits a <span class="keyword">block</span> object <span class="keyword">for</span> execution <span class="keyword">on</span> a dispatch queue <span class="keyword">and</span> waits <span class="keyword">until</span> that <span class="keyword">block</span> completes.</span><br><span class="line"></span><br><span class="line">。。。。。</span><br><span class="line"></span><br><span class="line">As an optimization, this <span class="keyword">function</span> invokes the <span class="keyword">block</span> <span class="keyword">on</span> the current thread <span class="keyword">when</span> possible.</span><br></pre></td></tr></table></figure>
</li>
<li><p>dispatch_sync 卡页面, 原因见官方说明最后一句，优化搞的鬼</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">写 <span class="comment">(删除操作)</span> dispatch_sy<span class="label">nc</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>队列分为两种，一种是Serial Dispatch Queue，还有一种是Concurrent Dispatch Queue。</p>
</li>
<li><p>xun核心模块决定线程数</p>
</li>
</ul>
<p>参考资料：</p>
<ul>
<li><a href="http://zhangbuhuai.com/2015/04/11/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3dispatch_sync/" target="_blank" rel="external">深入理解dispatch_sync</a></li>
<li><a href="http://stackoverflow.com/questions/13972048/dispatch-sync-always-scheduling-a-block-on-main-thread" target="_blank" rel="external">dispatch_sync always scheduling a block on Main Thread</a></li>
</ul>
<h1 id="英语，程序员">英语，程序员</h1><h3 id="网站">网站</h3><ul>
<li><p><a href="http://www.italki.com" target="_blank" rel="external">iTalki</a></p>
<blockquote>
<p>语言交换及专业老师订课辅导的网站</p>
</blockquote>
</li>
<li><p><a href="https://www.youtube.com/channel/UCwA7Aepp7nRUJNa8roQ-6Bw" target="_blank" rel="external">YouTube一个订阅号</a></p>
<blockquote>
<p>比较有吸引力的老师，他的同事频道也很不错</p>
</blockquote>
</li>
<li><p><a href="http://www.raywenderlich.com/" target="_blank" rel="external">rayWenderlich</a></p>
<blockquote>
<p>主要是iOS方面的，安卓覆盖一些。涵盖文字、视频、播客三方面</p>
</blockquote>
</li>
</ul>
<h3 id="APP">APP</h3><ul>
<li><p>飞鱼口语</p>
<blockquote>
<p>国内开发的一个及时练习口语的APP，主要是方便</p>
</blockquote>
</li>
<li><p>每日英语听力（欧陆词典推出的）</p>
<blockquote>
<p>radio 模块很不错，资源不算多但比较有质量。</p>
</blockquote>
</li>
<li><p>Podcast</p>
<ul>
<li>圆桌会议（RoundTable）</li>
<li>rayWenderlich （程序员职业发展及新技术点探讨，英式口语）</li>
</ul>
</li>
</ul>
<h3 id="工具">工具</h3><ul>
<li>Skype 和志同道合的人交流，练习口语 </li>
</ul>
<h3 id="EF_Education">EF Education</h3><ul>
<li><a href="http://ec.ef.com" target="_blank" rel="external">网站地址</a><blockquote>
<p>想小试牛刀的记得想我拿一下账号密码</p>
</blockquote>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-2015-10-16-谈谈未来，职业规划，梦想" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/16/2015-10-16-谈谈未来，职业规划，梦想/" class="article-date">
  	<time datetime="2015-10-16T10:30:00.000Z" itemprop="datePublished">2015-10-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/16/2015-10-16-谈谈未来，职业规划，梦想/">周精益分享-谈谈未来、梦想、职业规划</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="实现时间自由_-_王胜">实现时间自由 - 王胜</h2><ul>
<li>近期技术打工、为公司技术出一份力</li>
<li>伺机合伙创业<ul>
<li>自己作为技术的Partner</li>
<li>需求靠谱的产品经理合伙创业</li>
<li>如果有靠谱的市场/资方人事的合伙人就更完美了</li>
</ul>
</li>
<li>财富自由和时间自由后<ul>
<li>周游开拓视野</li>
<li>做一些自己感兴趣的东西，不求有市场，只求自己感觉有价值，好玩就行</li>
</ul>
</li>
</ul>
<h2 id="品质生活_-_吴明">品质生活 - 吴明</h2><ul>
<li>短期目标<ul>
<li>学习和开发使用Material Design</li>
</ul>
</li>
<li>长期目标：以下目标之一<ul>
<li>技术专家</li>
<li>管理和技术</li>
<li>换行业</li>
</ul>
</li>
<li>第二职业<ul>
<li>除工作之外培养第二职业</li>
<li>第二职业主要兴趣爱好方向</li>
<li>不求工资和市场价值高低，只追求兴趣快乐</li>
</ul>
</li>
</ul>
<h2 id="兴趣主导，快乐很重要_-_杨志平">兴趣主导，快乐很重要 - 杨志平</h2><ul>
<li><p>兴趣</p>
<ul>
<li>在失去当前工作兴趣之前，不会转行</li>
<li>职业规划随兴趣走</li>
</ul>
</li>
<li><p>肉身翻墙</p>
<ul>
<li>出去走一遭，趁年轻（工作或打工旅行）</li>
<li>去牛逼公司镀金</li>
</ul>
</li>
<li><p>终极目标</p>
<ul>
<li>年轻时，向往自由工作者的工作方式，能够养活自己的游行工作方式</li>
<li>适当年纪收心回归平常心（保持感兴趣的工作即可）</li>
</ul>
</li>
</ul>
<h2 id="一步一个脚印，顺其自然-王进">一步一个脚印，顺其自然-王进</h2><ul>
<li><p>近期目标，一步一个脚印，不断提高自己</p>
<ul>
<li>做好现在工作，打下坚实的基础</li>
<li>专注于技术，近期不考虑创业，转行等</li>
<li>顺其自然，当未来出现创业等机会，自己也准备好了，也不错过</li>
</ul>
</li>
<li><p>未来愿景：</p>
<ul>
<li>看好移动端的未来发展，以会后向智能家居，物联网方向发展</li>
<li>最终希望能在未来能有时间与机会出去走走</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-周精益分享-设计规范交流 " class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/25/周精益分享-设计规范交流 /" class="article-date">
  	<time datetime="2015-09-25T10:30:00.000Z" itemprop="datePublished">2015-09-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/25/周精益分享-设计规范交流 /">周精益分享-设计规范交流</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Label的一些使用规范_-_杨志平">Label的一些使用规范 - 杨志平</h1><h2 id="动态适应字体大小">动态适应字体大小</h2><blockquote>
<p>iOS系统自带的常见字体样式（字号及粗细等等）</p>
<ul>
<li>UIFontTextStyleHeadline</li>
<li>UIFontTextStyleSubheadline</li>
<li>UIFontTextStyleBody</li>
<li>UIFontTextStyleFootnote</li>
<li>UIFontTextStyleCaption1</li>
<li>UIFontTextStyleCaption2</li>
</ul>
</blockquote>
<h3 id="效果如下：">效果如下：</h3><p><img src="http://useyourloaf.com/assets/images/2013/2013-12-16-002.png" alt="Font"></p>
<h3 id="代码">代码</h3><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字体初始化</span></span><br><span class="line"><span class="built_in">UIFont</span> *font = [<span class="built_in">UIFont</span> preferredFontForTextStyle:<span class="built_in">UIFontTextStyleBody</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通知需要刷新的文本字体</span></span><br><span class="line">    [[<span class="built_in">NSNotificationCenter</span> defaultCenter]addObserver:<span class="keyword">self</span></span><br><span class="line">                                           selector:<span class="keyword">@selector</span>(userTextSizeDidChange)</span><br><span class="line">                                               name:<span class="built_in">UIContentSizeCategoryDidChangeNotification</span></span><br><span class="line">                                             object:<span class="literal">nil</span>];</span><br></pre></td></tr></table></figure>
<h1 id="国际化支持（适配注意点）">国际化支持（适配注意点）</h1><h4 id="工具：genstrings">工具：<a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/genstrings.1.html" target="_blank" rel="external">genstrings</a></h4><h4 id="参考：博客链接">参考：<a href="http://objccn.io/issue-9-3/" target="_blank" rel="external">博客链接</a></h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">先看看它的宏定义：</span><br><span class="line"><span class="hexcolor">#def</span>ine <span class="function"><span class="title">NSLocalizedString</span><span class="params">(key, comment)</span></span> </span><br><span class="line">[[NSBundle mainBundle] localizedStringForKey:(key) value:@<span class="string">""</span> <span class="tag">table</span>:nil]</span><br></pre></td></tr></table></figure>
<p><strong>本地化对象：</strong>标签和按钮上的文本，或者在运行时获取的字符串和数据动态生成的字符串。</p>
<h3 id="难点">难点</h3><h4 id="不同语言的语法问题">不同语言的语法问题</h4><blockquote>
<p>语序，人称不一致：<br>「Paul invited you」和「You invited Paul」 -&gt; 「%@ invited %@」，看似可以<br>以德语为例，「Paul invited you」译为「Paul hat dich eingeladen」，<br>而「You invited Paul」则译为「Du hast Paul eingeladen」。<br>正确处理其他语言的特殊语法方案:「%@ invited you」和「You invited %@」。</p>
</blockquote>
<h4 id="一词多意">一词多意</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">run</span> <span class="bash">-&gt; </span><br><span class="line"></span>	 vt. &amp; vi. 跑</span><br><span class="line">	 移动</span><br><span class="line">	 (使)流动</span><br><span class="line">	 n. 跑, 奔跑</span><br><span class="line">	 旅行, 旅程</span><br><span class="line">	 行驶路线</span><br><span class="line">	 时期; 一段时间</span><br></pre></td></tr></table></figure>
<p>正确做法：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">NSLocalizedString</span><span class="params">(@<span class="string">"activity-profile.title.the-run"</span>, nil)</span></span>  </span><br><span class="line"><span class="function"><span class="title">NSLocalizedString</span><span class="params">(@<span class="string">"home.button.start-run"</span>, nil)</span></span></span><br></pre></td></tr></table></figure>
<p>或者：(完全没有试过)</p>
<blockquote>
<p>NSLocalizedString 有一些变体能够提供更多字符串本地化的操作方式。NSLocalizedStringFromTable 接收 key、table 和 comment 这三个参数，其中 table 参数表示该字符串对应的一个表格，genstrings 会为表中的每一个条目生成一个以条目名称（假设为 table-item）命名的独立字符串文件 table-item.strings。<br>这样你就可以把字符串文件分割成几个小一些的文件。在一个庞大的项目或者团队中工作时，这一点显得尤为重要。同时这也让合并原有的和重新生成的字符串文件变得容易一些。</p>
</blockquote>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">NSLocalizedStringFromTable</span><span class="params">(@<span class="string">"home.button.start-run"</span>, @<span class="string">"ActivityTracker"</span>, @<span class="string">"some comment.."</span>)</span></span></span><br></pre></td></tr></table></figure>
<h3 id="调试本地化字符串（拓展）">调试本地化字符串（拓展）</h3><p>应用支持的语言版本越多，确保所有元素都正确显示就越难。但是这里有一些默认的用户选项和工具可以减轻你的负担。</p>
<blockquote>
<p>NSDoubleLocalizedStrings<br>AppleTextDirection<br>NSForceRightToLeftWritingDirection<br>选项保证你的布局不会因为长字符串或者从右往左读的语言而混乱。</p>
<p>NSShowNonLocalizedStrings<br>NSShowNonLocalizableStrings<br>则可以帮助你找到没有翻译的字符串和根本没有制定字符串本地化宏的字符串。</p>
</blockquote>
<h2 id="单位和度量_-吴明">单位和度量 -吴明</h2><h4 id="Android基本单位规范_-吴明">Android基本单位规范  -吴明</h4><h5 id="单位和度量">单位和度量</h5><ul>
<li>像素密度<ul>
<li>每英寸的像素数被称为“像素密度”。</li>
<li>DPI =屏幕宽度（或高度）像素/屏幕宽度（或高度）英寸</li>
<li>mdpi-160dpi,<br>hdpi-480x800-240dpi,<br>xhdpi-720x1280-320dpi,<br>xxhdpi-1080x1920-480dpi</li>
<li>mipmap-hdpi,<br>  drawable-hdpi区别:用mipmap会缩放图片并优化性能。</li>
<li><img src="http://www.2cto.com/uploadfile/Collfiles/20150718/2015071808335256.png" alt="MacDown Screenshot"></li>
</ul>
</li>
<li>密度独立像素<ul>
<li>“密度独立”是指在屏幕上用不同的密度来统一的显示用户界面元素</li>
<li><img src="http://wiki.jikexueyuan.com/project/material-design/images/4_5.png" alt="MacDown Screenshot"></li>
<li>1dp 和 160 dpi 屏幕的一个物理像素相等。计算 dp 的方法：<br><code><em>dp =(宽度像素</em>160)/ dpi**</code></li>
</ul>
</li>
<li><p>可扩展像素（sp）</p>
<ul>
<li>在为安卓系统开发程序时，可扩展的像素（SP）提供和DP一样的功能，但只是在字体上。一个 SP 的默认值和 DP 上的默认值一样。</li>
<li>density==scaledDensity,即1sp=1dp，</li>
<li><p>还是采用dp替代sp,<a href="http://www.oschina.net/question/272860_70761" target="_blank" rel="external">为什么</a></p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">float</span> <span class="title">applyDimension</span>(<span class="params"><span class="keyword">int</span> unit, <span class="keyword">float</span> <span class="keyword">value</span>,DisplayMetrics metrics</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">switch</span> (unit) &#123;</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_PX:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span>;</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_DIP:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * metrics.density;</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_SP:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * metrics.scaledDensity;</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_PT:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * metrics.xdpi * (<span class="number">1.0</span>f/<span class="number">72</span>);</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_IN:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * metrics.xdpi;</span><br><span class="line">    <span class="keyword">case</span> COMPLEX_UNIT_MM:</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">value</span> * metrics.xdpi * (<span class="number">1.0</span>f/<span class="number">25.4</span>f);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>pt(磅)，标准的长度单位，1pt＝1/72英寸，用于印刷业,买蛋糕的时候挺说最多</p>
</li>
<li>em,em指字体高,1em=16px,任意浏览器的默认字体高都是16px.</li>
</ul>
<h5 id="字体排版">字体排版</h5><ul>
<li>字体排版的缩放和基本样式<ul>
<li>同时使用过多的字体尺寸和样式可以很轻易的毁掉布局,最基本的样式集合就是基于 12、14、16、20 和 34 号的字体排版缩放,以下Google建议字体尺寸:<br><img src="http://7xn0ue.com1.z0.glb.clouddn.com/style_typography_style1.png" alt="MacDown Screenshot"></li>
</ul>
</li>
<li>基本色/色彩对比度<ul>
<li>最基本的常识是，相同颜色的背景和文字是很难阅读的。但有些人不知道的是，带有过强对比度的文本会有些炫目，同样难以阅读。</li>
<li>文本应当满足对比度7:1的是最适合阅读,最低的对比度4.5:1(依据明度计算),</li>
<li>Google对比度建议:<img src="http://wiki.jikexueyuan.com/project/material-design/images/style-typography-16_large_mdpi.png" alt="MacDown Screenshot"></li>
</ul>
</li>
<li>行高<ul>
<li>只有“主体”、“次要标题”、“大纲”等类似的样式中才允许使用自动换行。其它所有样式应当以单行形式出现。</li>
<li><img src="http://7xn0ue.com1.z0.glb.clouddn.com/style_typography_lineheight_tall1.png" alt="MacDown Screenshot"></li>
<li>For all styles, line height is 0.1em larger than the English-like languages. English and English-like languages mostly use a portion of the em box, often the lower portion below the x-height. Chinese, Japanese, and Korean (CJK) ideographic characters use the entire em box. Characters in tall languages often have long descenders and/or ascenders. To achieve the same design intention as English for CJK and to avoid potential text clipping between two lines next to each other for tall languages, the line height needs to be larger than in English for tall and dense languages.</li>
</ul>
</li>
<li>换行规则/连字符<ul>
<li>正确：<br><img src="http://wiki.jikexueyuan.com/project/material-design/images/style-typography-32_large_mdpi.png" alt="MacDown Screenshot"></li>
<li>错误<br><img src="http://wiki.jikexueyuan.com/project/material-design/images/style-typography-33_large_mdpi.png" alt="MacDown Screenshot"></li>
</ul>
</li>
<li><p>每行字符</p>
<ul>
<li><a href="http://baymard.com/blog/line-length-readability" target="_blank" rel="external">每行应当保持在50-60个字符左右</a></li>
<li>太长,用户的眼睛将难以找到在文本上对焦。这是因为过长的文字导致用户难以判断一行的起始点，甚至在大段文字中出现读错行的现象</li>
<li>太短，会导致眼睛来回扫视过于频繁，破坏阅读的节奏。过短的内容还会给人压力，导致用户完成本行阅读前过早跳转到下一行阅读(因此会错过潜在的重要信息)</li>
<li><p><img src="http://7xn0ue.com1.z0.glb.clouddn.com/style_typography_styles_linelengths1.png" alt="MacDown Screenshot"></p>
<ul>
<li><img src="http://7xn0ue.com1.z0.glb.clouddn.com/style_typography_styles_linelengths2.png" alt="MacDown Screenshot"></li>
</ul>
</li>
</ul>
</li>
<li>字间距<ul>
<li><img src="http://7xn0ue.com1.z0.glb.clouddn.com/style_typography_styles_tracking.png" alt="MacDown Screenshot"></li>
<li></li>
</ul>
</li>
</ul>
<h2 id="设计规范之我见_-_张超耀">设计规范之我见 - 张超耀</h2><h2 id="设计规范阅读心得_-_潘君">设计规范阅读心得 - 潘君</h2><h3 id="官方设计文档">官方设计文档</h3><p>参考资料：<a href="http://isux.tencent.com/ios8-human-interface-guidelines.html" target="_blank" rel="external">[ISUX转译]iOS 8人机界面指南（一）：UI设计基础</a></p>
<ul>
<li>突出内容</li>
<li>统一</li>
<li>为变化做好准备<ul>
<li>压缩 </li>
<li>拉伸</li>
</ul>
</li>
<li>充足的互动空间</li>
<li>路径合理</li>
<li>注意层级</li>
<li>使用标准的手势</li>
<li>页面切换过渡需要有焦点</li>
<li>反馈要准确</li>
</ul>
<h3 id="案例">案例</h3><p>参考资料：<a href="http://beforweb.com/node/766" target="_blank" rel="external">向用户征询iOS授权的五种常见设计模式</a></p>
<h2 id="设计规范之奇妙的Z轴-_王进">设计规范之奇妙的Z轴- 王进</h2><h3 id="Z轴组成：">Z轴组成：</h3><blockquote>
<p>z=elevation+translationZ;</p>
</blockquote>
<ul>
<li>eleavation是静态的成员，静止高度，是不会变化的。当一个对象的高度产生变化时，它将会尽快恢复到自身的静止高度。</li>
</ul>
<p>translationZ是用来做动画。动态高度偏移</p>
<ul>
<li>在layout中使用 android:elevation属性去定义 </li>
</ul>
<p>在代码中使用 View.setElevation 方法去定义 </p>
<ul>
<li><p>在layout中使用 android:translationz属性去定义设置视图的translation，可以使用View.setTranslationZ方法 </p>
</li>
<li><p>新的属性值：translationZ允许你创建一个动画暂时的反应出View的高度值（elevation）变化。</p>
</li>
</ul>
<p>这对于响应触摸手势很有用处:</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">int</span> action = motionEvent.getActionMasked();  </span><br><span class="line"></span><br><span class="line">                <span class="comment">/* Raise view on ACTION_DOWN and lower it on ACTION_UP. */</span>  </span><br><span class="line"></span><br><span class="line">                <span class="keyword">switch</span> (action) &#123;  </span><br><span class="line"></span><br><span class="line">                    <span class="keyword">case</span> MotionEvent.ACTION_DOWN:  </span><br><span class="line"></span><br><span class="line">                        Log.d(TAG, <span class="string">"ACTION_DOWN on view."</span>);  </span><br><span class="line"></span><br><span class="line">                        view.setTranslationZ(<span class="number">120</span>);  </span><br><span class="line"></span><br><span class="line">                        <span class="keyword">break</span>;  </span><br><span class="line"></span><br><span class="line">                    <span class="keyword">case</span> MotionEvent.ACTION_UP:  </span><br><span class="line"></span><br><span class="line">                        Log.d(TAG, <span class="string">"ACTION_UP on view."</span>);  </span><br><span class="line"></span><br><span class="line">                        view.setTranslationZ(<span class="number">0</span>);  </span><br><span class="line"></span><br><span class="line">                        <span class="keyword">break</span>;  </span><br><span class="line"></span><br><span class="line">                    <span class="keyword">default</span>:  </span><br><span class="line"></span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">false</span>;  </span><br><span class="line"></span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>
<h3 id="系统高度参考">系统高度参考</h3><p><img src="http://wiki.jikexueyuan.com/project/material-design/images/3_2.png" alt=""></p>
<h3 id="高度特性：">高度特性：</h3><ul>
<li><p>“高度”的度量单位与 XY 轴的度量单位相同，主要是 DP。由于所有 Material 元素都具有 1 单位 DP 的厚度，所以“高度”度量的是从一个平面顶部到另一个平面顶部的距离。</p>
</li>
<li><p>一个子对象的高度与其父对象的高度相关</p>
</li>
</ul>
<h3 id="阴影">阴影</h3><p>“阴影”提供了对象深度和方向性移动的重要视觉线索。它们是唯一一种标示不同平面之间分离程度的视觉线索。某一对象的“高度”决定了其具体“阴影”的表现形式。</p>
<ul>
<li>Z 轴影响阴影效果</li>
</ul>
<p>z轴越大，阴影越明显，</p>
<ul>
<li>Z轴影响View 的绘制顺序：</li>
</ul>
<p>在同一个父view内部，z轴越小，绘制越早，z轴后绘制的会覆盖先前绘制的，只有Z轴相同，才按照添加循序绘制</p>
<ul>
<li><p>Z轴属性会扩大view的显示区域，如果他的大小≥父控件大小，他的阴影效果就无法显示</p>
</li>
<li></li>
</ul>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;TextView</span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_marginTop=</span><span class="string">"20dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_marginBottom=</span><span class="string">"20dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">gravity=</span><span class="string">"center"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">text=</span><span class="string">"2dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">textColor=</span><span class="string">"#88000000"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_width=</span><span class="string">"150dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_height=</span><span class="string">"100dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">elevation=</span><span class="string">"2dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">background=</span><span class="string">"#ffffff"</span>/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;TextView</span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_marginTop=</span><span class="string">"20dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_marginBottom=</span><span class="string">"20dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_marginLeft=</span><span class="string">"20dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">gravity=</span><span class="string">"center"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">text=</span><span class="string">"4dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">textColor=</span><span class="string">"#88000000"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_width=</span><span class="string">"150dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">layout_height=</span><span class="string">"100dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">elevation=</span><span class="string">"4dp"</span></span><br><span class="line"></span><br><span class="line">          android:<span class="variable">background=</span><span class="string">"#ffffff"</span>/&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>使用直接使用图片（除非shape)，设置z轴，阴影效果不会显示，必须通过代码viewOutlineProvider指明轮廓</p>
<ul>
<li>在layout中使用android：outlineProvider属性</li>
</ul>
<blockquote>
<p>none 即使设置里z轴也不会显示阴影</p>
</blockquote>
<p>background 按照background 设置背景</p>
<p>bounds  按照view 大小设置背景</p>
<p>paddedbounds 与bounds 类似，不过背景向右偏些</p>
</li>
</ul>
<ul>
<li>代码设置</li>
</ul>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ViewOutlineProvider viewOutlineProvider = new ViewOutlineProvider<span class="params">()</span> &#123;  </span><br><span class="line"></span><br><span class="line">    @Override  </span><br><span class="line"></span><br><span class="line">    public void getOutline<span class="params">(View view, Outline outline)</span>  </span><br><span class="line"></span><br><span class="line">        <span class="comment">//可以指定圆形，矩形，圆角矩形，path</span></span><br><span class="line"></span><br><span class="line">        outline.setOval<span class="params">(<span class="number">0</span>, <span class="number">0</span>, view.getWidth<span class="params">()</span>, view.getHeight<span class="params">()</span>)</span>;  </span><br><span class="line"></span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">&#125;;  </span><br><span class="line"></span><br><span class="line">fab.setOutlineProvider<span class="params">(viewOutlineProvider)</span>;?</span><br></pre></td></tr></table></figure>
<h3 id="两层阴影">两层阴影</h3><p><img src="https://pic2.zhimg.com/65fe5d60a56fd38f968fd2d1e991a889_b.jpg" alt=""></p>
<p><img src="https://pic2.zhimg.com/e2c6e088fd8ea8fc3e5ccdfb2e4e3199_b.jpg" alt=""></p>
<ul>
<li><p>这两层阴影, 一层是环境光投射的阴影, 另一层是关键光照射在 material 上投射的阴影.这两种光线叠加在一起, 才能构成 material design 中的阴影.</p>
</li>
<li><p>而理论上, 这两种阴影都应该是有平滑曲线的, 但是由于手机处理器性能问题, 实时计算平滑后的阴影会导致可怕的耗电与发热, 所以 Google 只能在这方面妥协, 将阴影曲线拉直, 直接导致某些阴影效果变差.通过叠加可以模拟真实的曲线阴影。</p>
</li>
</ul>
<p><img src="https://pic2.zhimg.com/12b97051d79c5f018461d7954594308d_b.jpg" alt=""></p>
<p>链接：<a href="http://www.zhihu.com/question/28865209/answer/42749018" target="_blank" rel="external">http://www.zhihu.com/question/28865209/answer/42749018</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-周精益分享-自由主题 " class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/18/周精益分享-自由主题 /" class="article-date">
  	<time datetime="2015-09-18T18:00:00.000Z" itemprop="datePublished">2015-09-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/18/周精益分享-自由主题 /">周精益分享-自由主题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="51offer-api_项目上手总结_-_曾铭">51offer-api 项目上手总结 - 曾铭</h2><h3 id="项目结构">项目结构</h3><ul>
<li>目录</li>
<li>filter</li>
<li>controller</li>
<li>service interface&amp;implement 注意区分接口与对应实现</li>
<li>dao interface&amp;implement  data access object</li>
</ul>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">-------------------------------------</span><br><span class="line">HTTP</span><br><span class="line">-------------------------------------</span></span><br><span class="line"><span class="header">Filter1</span><br><span class="line">-------------------------------------</span></span><br><span class="line"><span class="header">Filter2</span><br><span class="line">-------------------------------------</span></span><br><span class="line"><span class="header">Controller | UserController | PickController</span><br><span class="line">-------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="code">-------------------------------------</span><br><span class="line">Service | UserService | XXService |</span><br><span class="line">-------------------------------------</span></span><br><span class="line"><span class="header">DAO</span><br><span class="line">-------------------------------------</span></span><br></pre></td></tr></table></figure>
<h3 id="maven">maven</h3><ul>
<li>cocoapods + xctool</li>
<li>同 gradle</li>
</ul>
<h3 id="spring">spring</h3><ul>
<li>IOC，DI</li>
<li>版本区分 service 现有方式及问题</li>
</ul>
<h3 id="svn">svn</h3><ul>
<li>难用的 branch，基于 copy，新路径</li>
<li>merge，注意主从，merge from server</li>
</ul>
<h2 id="Better遭遇白帽子袭击_-_王胜">Better遭遇白帽子袭击 - 王胜</h2><blockquote>
<p><a href="http://www.wooyun.org/bugs/wooyun-2010-0139504" target="_blank" rel="external">乌云链接</a></p>
</blockquote>
<h3 id="被狙击的点">被狙击的点</h3><ul>
<li>短信验证码校验</li>
<li>敏感信息泄露</li>
<li>越权操作</li>
</ul>
<h3 id="总结">总结</h3><ul>
<li>不能太依赖移动端进行拦截，API必需做后端拦截</li>
<li>API协议制定后，应该严格执行，无需的字段不要返回，敏感的字段处理后再返回</li>
<li>API对于入参要进行严格的协议校验和业务合法性校验</li>
<li>移动安全应该提上日程了</li>
</ul>
<h2 id="Dubbo与Zookeeper、SpringMVC整合和使用（负载均衡、容错）_-_陈奎">Dubbo与Zookeeper、SpringMVC整合和使用（负载均衡、容错） - 陈奎</h2><ul>
<li>第一：介绍Dubbo背景</li>
<li>第二：Dubbo的简介</li>
<li>第三：Dubbo与Zookeeper、SpringMVC整合使用</li>
</ul>
<h2 id="Sonar_的搭建小结_-_杨俊构">Sonar 的搭建小结 - 杨俊构</h2><h3 id="Sonar_的搭建">Sonar 的搭建</h3><ul>
<li>Ubuntu 虚拟机</li>
<li>Sonar 配置</li>
</ul>
<h3 id="sonar-runner_与Gradle配置">sonar-runner 与Gradle配置</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-周精益分享-自由主题" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/14/周精益分享-自由主题/" class="article-date">
  	<time datetime="2015-09-14T12:00:00.000Z" itemprop="datePublished">2015-09-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/14/周精益分享-自由主题/">周精益分享-自由主题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="浅拷贝与深拷贝_-_杨志平">浅拷贝与深拷贝 - 杨志平</h2><blockquote>
<p> 程序中经常会遇到集合类的传值 <br><br> <strong> 坑：</strong> 数组操作时对于数组中的对象拷贝</p>
</blockquote>
<h3 id="目的：">目的：</h3><p>观察array1、mArrayCopy、mArrayCopy2 三者区别</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *array1 = [<span class="built_in">NSArray</span> arrayWithObjects:[<span class="built_in">NSMutableString</span> stringWithString:<span class="string">@"a"</span>],<span class="string">@"b"</span>,<span class="string">@"c"</span>,<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *mArrayCopy = [[<span class="built_in">NSArray</span> alloc] initWithArray:array1 copyItems:<span class="literal">YES</span>];</span><br><span class="line"><span class="built_in">NSArray</span>* mArrayCopy2 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:[<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject: array1]];</span><br></pre></td></tr></table></figure>
<h3 id="首先了解copy与retain的区别">首先了解copy与retain的区别</h3><p><strong> OC对象引用计数器：屋里开灯规则 </strong></p>
<blockquote>
<p>copy是创建一个新对象，retain是创建一个指针，引用对象计数加1。Copy属性表示两个对象内容相同，新的对象retain为1 ，与旧有对象的引用计数无关，旧有对象没有变化。</p>
<p>retain属性表示两个对象地址相同（建立一个指针，指针拷贝），内容当然相同，这个对象的retain值+1也就是说，retain 是指针拷贝，copy 是内容拷贝。</p>
</blockquote>
<h3 id="主角：copy、mutableCopy">主角：copy、mutableCopy</h3><p><strong><em>注意：可变和不可变对象使用copy、mutableCopy的区别</em></strong></p>
<blockquote>
<p>遵守NSCopying 协议的类可以发送copy消息，<br>遵守NSMutableCopying 协议的类才可以发送mutableCopy消息。</p>
<p>默认的ios类并没有遵守这两个协议<br>自定义copy 必须遵守NSCopying,并且实现 copyWithZone: 方法<br>自定义mutableCopy 那么就必须遵守NSMutableCopying,并且实现 mutableCopyWithZone: 方法</p>
</blockquote>
<h3 id="实例">实例</h3><h5 id="系统的非容器类对象">系统的非容器类对象</h5><blockquote>
<p>这里指的是NSString,NSNumber等等一类的对象。</p>
</blockquote>
<p>示例1：<br>不可变string</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSString</span> *string = <span class="string">@"origionStr"</span>;</span><br><span class="line"><span class="built_in">NSString</span> *string2 = string;</span><br><span class="line"><span class="built_in">NSString</span> *stringCopy = [string <span class="keyword">copy</span>];</span><br><span class="line"><span class="built_in">NSMutableString</span> *stringMCopy = [string mutableCopy];</span><br><span class="line">[stringMCopy appendString:<span class="string">@"!!!!"</span>];</span><br><span class="line"><span class="comment">// log</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"string      = %p %p %@ "</span>,string,&amp;string,string);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"string2     = %p %p %@ "</span>,string2,&amp;string2,string2);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"stringCopy  = %p %p %@ "</span>,stringCopy,&amp;stringCopy,stringCopy);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"stringMCopy = %p %p %@ "</span>,stringMCopy,&amp;stringMCopy,stringMCopy);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string      = <span class="number">0x1064e70</span>88		0x7fff<span class="number">597190a0</span> origionStr </span><br><span class="line">string2     = <span class="number">0x1064e70</span>88 		0x7fff<span class="number">59719098</span> origionStr </span><br><span class="line">stringCopy  = <span class="number">0x1064e70</span>88 		0x7fff<span class="number">59719090</span> origionStr </span><br><span class="line">stringMCopy = 0x7fafebdbb<span class="number">4b0	0x7</span>fff<span class="number">59719088</span> origionStr!!!!</span><br></pre></td></tr></table></figure>
<p>示例2：<br>可变string</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">NSMutableString *<span class="built_in">string</span> = [NSMutableString stringWithStrin<span class="variable">g:</span> @<span class="string">"origion"</span>];</span><br><span class="line">NSString *stringCopy = [<span class="built_in">string</span> <span class="built_in">copy</span>];</span><br><span class="line">NSMutableString *mStringCopy = [<span class="built_in">string</span> <span class="built_in">copy</span>];</span><br><span class="line">NSMutableString *stringMCopy = [<span class="built_in">string</span> mutableCopy];</span><br><span class="line">[<span class="built_in">string</span> appendStrin<span class="variable">g:</span>@<span class="string">" origion!"</span>];</span><br><span class="line">[stringMCopy appendStrin<span class="variable">g:</span>@<span class="string">"!!"</span>];</span><br><span class="line">NSLog(@<span class="string">"string      = %p %@"</span>,<span class="built_in">string</span>,<span class="built_in">string</span>);</span><br><span class="line">NSLog(@<span class="string">"stringCopy  = %p %@"</span>,stringCopy,stringCopy);</span><br><span class="line">NSLog(@<span class="string">"stringMCopy = %p %@"</span>,mStringCopy,mStringCopy);</span><br><span class="line">NSLog(@<span class="string">"stringMCopy = %p %@"</span>,stringMCopy,stringMCopy);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string </span>     = <span class="number">0x7fafebdec820</span> origion origion!</span><br><span class="line"><span class="keyword">stringCopy </span> = <span class="number">0x7fafebdcb8c0</span> origion</span><br><span class="line"><span class="keyword">stringMCopy </span>= <span class="number">0x7fafebda4320</span> origion</span><br><span class="line"><span class="keyword">stringMCopy </span>= <span class="number">0x7fafebd32890</span> origion!!</span><br></pre></td></tr></table></figure>
<blockquote>
<p>对于系统的非容器类对象，我们可以认为，如果对一不可变对象复制，copy是指针复制（浅拷贝）和mutableCopy就是对象复制（深拷贝）。如果是对可变对象复制，都是深拷贝，但是copy返回的对象是不可变的。</p>
</blockquote>
<h5 id="系统的容器类对象">系统的容器类对象</h5><blockquote>
<p>指NSArray,NSSet,NSDictionary等。对于容器类本身，上面讨论的结论也是适用的，需要探讨的是复制后容器内对象的变化。</p>
</blockquote>
<p>示例1：<br>不可变数组</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//copy返回不可变对象，mutablecopy返回可变对象</span></span><br><span class="line"><span class="built_in">NSArray</span> *array1 = [<span class="built_in">NSArray</span> arrayWithObjects:<span class="string">@"a"</span>,<span class="string">@"b"</span>,<span class="string">@"c"</span>,<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSArray</span> *arrayCopy1 = [array1 <span class="keyword">copy</span>];</span><br><span class="line"><span class="built_in">NSMutableArray</span> *mArrayCopy1 = [array1 mutableCopy];</span><br><span class="line">[mArrayCopy1 addObject:<span class="string">@"de"</span>];</span><br><span class="line">[mArrayCopy1 removeObjectAtIndex:<span class="number">0</span>];</span><br><span class="line"><span class="comment">// log</span></span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"array1      = %p %@ %p %@"</span>,array1,array1,array1[<span class="number">1</span>],array1[<span class="number">1</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"arrayCopy1  = %p %@ %p %@"</span>,arrayCopy1,arrayCopy1,arrayCopy1[<span class="number">1</span>],arrayCopy1[<span class="number">1</span>]);</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"mArrayCopy1 = %p %@ %p %@"</span>,mArrayCopy1,mArrayCopy1,mArrayCopy1[<span class="number">0</span>],mArrayCopy1[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">array1      = <span class="number">0</span>x7fafebdeaed0 (<span class="tag">a</span>,<span class="tag">b</span>,c) 	<span class="number">0</span>x1064e7228 <span class="tag">b</span></span><br><span class="line">arrayCopy1  = <span class="number">0</span>x7fafebdeaed0 (<span class="tag">a</span>,<span class="tag">b</span>,c) 	<span class="number">0</span>x1064e7228 <span class="tag">b</span></span><br><span class="line">mArrayCopy1 = <span class="number">0</span>x7fafebdfc010 (<span class="tag">b</span>,c,de) 	<span class="number">0</span>x1064e7228 b</span><br></pre></td></tr></table></figure>
<p>示例：<br>可变数组</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="name">NSArray</span> *<span class="atom">array1</span> = [<span class="name">NSArray</span> <span class="atom">arrayWithObjects</span>:@<span class="string">"a"</span>,@<span class="string">"b"</span>,@<span class="string">"c"</span>,<span class="atom">nil</span>];</span><br><span class="line"><span class="name">NSMutableArray</span> *<span class="atom">mArrayCopy</span> = [[<span class="name">NSMutableArray</span> <span class="atom">alloc</span>] <span class="atom">initWithArray</span>:<span class="atom">array1</span> <span class="atom">copyItems</span>:<span class="name">YES</span>];</span><br><span class="line"><span class="name">NSLog</span>(@<span class="string">"array1      = %p %@ %p %@ %p %@"</span>,<span class="atom">array1</span>,    <span class="atom">array1</span>,     <span class="atom">array1</span>[<span class="number">0</span>],      <span class="atom">array1</span>[<span class="number">0</span>],      <span class="atom">array1</span>[<span class="number">1</span>],      <span class="atom">array1</span>[<span class="number">1</span>]);</span><br><span class="line"><span class="name">NSLog</span>(@<span class="string">"arrayCopy1  = %p %@ %p %@ %p %@"</span>,<span class="atom">mArrayCopy</span>,<span class="atom">mArrayCopy</span>, <span class="atom">mArrayCopy</span>[<span class="number">0</span>],  <span class="atom">mArrayCopy</span>[<span class="number">0</span>],  <span class="atom">mArrayCopy</span>[<span class="number">1</span>],  <span class="atom">mArrayCopy</span>[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<p>结果：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array1      = <span class="number">0</span>x7fafebcb5ae0 (<span class="tag">a</span>,<span class="tag">b</span>,c)	 <span class="number">0</span>x10afe1208 <span class="tag">a</span> <span class="number">0</span>x10afe1228 <span class="tag">b</span></span><br><span class="line">arrayCopy1  = <span class="number">0</span>x7fafebcb5b10 (<span class="tag">a</span>,<span class="tag">b</span>,c)	 <span class="number">0</span>x10afe1208 <span class="tag">a</span> <span class="number">0</span>x10afe1228 b</span><br></pre></td></tr></table></figure>
<p>示例2：</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSArray</span> *array1 = [<span class="built_in">NSArray</span> arrayWithObjects:[<span class="built_in">NSMutableString</span> stringWithString:<span class="string">@"a"</span>],<span class="string">@"b"</span>,<span class="string">@"c"</span>,<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">NSMutableArray</span> *mArrayCopy = [[<span class="built_in">NSMutableArray</span> alloc] initWithArray:array1 copyItems:<span class="literal">YES</span>];</span><br><span class="line"><span class="built_in">NSArray</span>* mArrayCopy2 = [<span class="built_in">NSKeyedUnarchiver</span> unarchiveObjectWithData:[<span class="built_in">NSKeyedArchiver</span> archivedDataWithRootObject: array1]];</span><br></pre></td></tr></table></figure>
<blockquote>
<p>mArrayCopy2是完全意义上的深拷贝，而mArrayCopy则不是</p>
<p>对于mArrayCopy内的不可变元素其还是指针复制。或者我们自己实现深拷贝的方法。因为如果容器的某一元素是不可变的，那你复制完后该对象仍旧是不能改变的，因此只需要指针复制即可。除非你对容器内的元素重新赋值，否则指针复制即已足够。</p>
</blockquote>
<h2 id="APP标注工具_-_王进">APP标注工具 - 王进</h2><ul>
<li>第一个：马克鳗：<ul>
<li><a href="http://www.getmarkman.com/" target="_blank" rel="external">http://www.getmarkman.com/</a></li>
</ul>
</li>
<li>第二个：苦逼APPUI设计师的标注切图的利器—PxCook：<ul>
<li><a href="http://www.fancynode.com.cn/pxcook/home" target="_blank" rel="external">http://www.fancynode.com.cn/pxcook/home</a></li>
</ul>
</li>
</ul>
<h2 id="tracking-sdk之FMDB_&amp;_common字段简单分享_-_张超耀">tracking-sdk之FMDB &amp; common字段简单分享 - 张超耀</h2><h3 id="FMDB">FMDB</h3><ul>
<li>cocoapods管理（优先考虑）</li>
<li>libsqlite3.dylib函数库支持</li>
<li>怎删改 &amp; 查简单实用</li>
<li>object转string时有转义字符，需要客户端进一步处理</li>
</ul>
<h3 id="common字段">common字段</h3><ul>
<li>IP &amp; 经纬度获取（不经意间的惊喜）<a href="http://ip-api.com" target="_blank" rel="external">IP查询</a></li>
<li>其他字段（略）</li>
</ul>
<h3 id="获取经纬度遇到的问题">获取经纬度遇到的问题</h3><ul>
<li>经纬度获取是异步，可能在实时数据上传前还没有获取到，所以暂时取巧用IP解析的地址作为经纬度处理。</li>
</ul>
<h3 id="tracking-sdk_分享_-_潘君">tracking-sdk 分享 - 潘君</h3><ul>
<li>略</li>
</ul>
<h2 id="正则表达式入门_-_曾铭">正则表达式入门 - 曾铭</h2><h3 id="目标">目标</h3><ul>
<li>原理我也不懂，但会用(知道能解决什么问题)能看懂(知道在解决什么问题)很重要</li>
<li>高效</li>
<li>碰到问题多”玩”, 玩玩就会了</li>
</ul>
<h3 id="罗列">罗列</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">\b 单词分割</span><br><span class="line">\<span class="keyword">d</span> 数字</span><br><span class="line">\s 空白符</span><br><span class="line">\w 字母、数字、下划线、汉字</span><br><span class="line">\B \<span class="keyword">D</span> \S \<span class="literal">W</span></span><br><span class="line">[^xyz] 非 xyz</span><br><span class="line">[abc0-9] 字符范围</span><br><span class="line">^ 起始</span><br><span class="line">$ 结束</span><br><span class="line">&#123;<span class="keyword">n</span>&#125; 重复 <span class="keyword">n</span> 次</span><br><span class="line">&#123;<span class="keyword">n</span>,&#125; 重复 <span class="keyword">n</span> 到无穷次</span><br><span class="line">&#123;<span class="keyword">n</span>,<span class="keyword">m</span>&#125; 重复 <span class="keyword">n</span> 到 <span class="keyword">m</span> 次</span><br><span class="line"><span class="comment">* 重复 0 到无穷次</span></span><br><span class="line">+ 重复 1 到无穷次</span><br><span class="line">? 重复 0 或 1 次</span><br><span class="line">| 或</span><br><span class="line">\\ 字符转义</span><br><span class="line">(exp) 捕获</span><br><span class="line">(?&lt;name&gt;exp) 捕获并命名</span><br><span class="line">(?:exp) 不捕获</span><br><span class="line">(?=exp) 匹配exp前面的位置</span><br><span class="line">(?&lt;=exp) 匹配exp后面的位置</span><br><span class="line">(?!exp) 匹配后面跟的不是exp的位置</span><br><span class="line">(?&lt;!exp) 匹配前面不是exp的位置</span><br></pre></td></tr></table></figure>
<h3 id="推荐工具">推荐工具</h3><ul>
<li><a href="http://www.regexbuddy.com/" target="_blank" rel="external">RegexBuddy for Win</a></li>
<li><a href="http://krillapps.com/patterns/" target="_blank" rel="external">Patterns for Mac</a></li>
<li><a href="http://www.regexlab.com/zh/regref.htm" target="_blank" rel="external">正则在线参考</a></li>
</ul>
<h3 id="参考">参考</h3><ul>
<li><a href="http://www.ruanyifeng.com/blog/2009/04/lorem_ipsum.html" target="_blank" rel="external">关于Lorem ipsum</a></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-那些年我们用过的第三方库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/21/那些年我们用过的第三方库/" class="article-date">
  	<time datetime="2015-08-21T12:00:00.000Z" itemprop="datePublished">2015-08-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/21/那些年我们用过的第三方库/">那些年我们用过的第三方库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="SnapKit（Masonry）_的使用_-_杨志平">SnapKit（Masonry） 的使用 - 杨志平</h2><blockquote>
<p>这两个库的用法都是差不多的，只是由两个不同的人来主导开源  <br><br><strong><a href="https://github.com/SnapKit/SnapKit" target="_blank" rel="external">SnapKit</a></strong>是Swift版 <br><br><strong><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">Masonry</a></strong>是OC版    </p>
<p>自动布局及交互式编程是iOS开发的趋势，同时Swift也会在不久将来替换OC语言。所以现在的iOS开发者可以开始学习Swift2.0 以及应用 Autolayout 来编程</p>
</blockquote>
<h3 id="代码对比（概况了解）">代码对比（概况了解）</h3><h5 id="开始前OC原生布局代码">开始前OC原生布局代码</h5><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">UIView</span> *superview = <span class="keyword">self</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">UIView</span> *view1 = [[<span class="built_in">UIView</span> alloc] init];</span><br><span class="line">view1<span class="variable">.translatesAutoresizingMaskIntoConstraints</span> = <span class="literal">NO</span>;</span><br><span class="line">view1<span class="variable">.backgroundColor</span> = [<span class="built_in">UIColor</span> greenColor];</span><br><span class="line">[superview addSubview:view1];</span><br><span class="line"></span><br><span class="line"><span class="built_in">UIEdgeInsets</span> padding = <span class="built_in">UIEdgeInsetsMake</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">[superview addConstraints:@[</span><br><span class="line"></span><br><span class="line">   <span class="comment">//view1 constraints</span></span><br><span class="line">   [<span class="built_in">NSLayoutConstraint</span> constraintWithItem:view1</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeTop</span></span><br><span class="line">                                relatedBy:<span class="built_in">NSLayoutRelationEqual</span></span><br><span class="line">                                   toItem:superview</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeTop</span></span><br><span class="line">                               multiplier:<span class="number">1.0</span></span><br><span class="line">                                 constant:padding<span class="variable">.top</span>],</span><br><span class="line"></span><br><span class="line">   [<span class="built_in">NSLayoutConstraint</span> constraintWithItem:view1</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeLeft</span></span><br><span class="line">                                relatedBy:<span class="built_in">NSLayoutRelationEqual</span></span><br><span class="line">                                   toItem:superview</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeLeft</span></span><br><span class="line">                               multiplier:<span class="number">1.0</span></span><br><span class="line">                                 constant:padding<span class="variable">.left</span>],</span><br><span class="line"></span><br><span class="line">   [<span class="built_in">NSLayoutConstraint</span> constraintWithItem:view1</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeBottom</span></span><br><span class="line">                                relatedBy:<span class="built_in">NSLayoutRelationEqual</span></span><br><span class="line">                                   toItem:superview</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeBottom</span></span><br><span class="line">                               multiplier:<span class="number">1.0</span></span><br><span class="line">                                 constant:-padding<span class="variable">.bottom</span>],</span><br><span class="line"></span><br><span class="line">   [<span class="built_in">NSLayoutConstraint</span> constraintWithItem:view1</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeRight</span></span><br><span class="line">                                relatedBy:<span class="built_in">NSLayoutRelationEqual</span></span><br><span class="line">                                   toItem:superview</span><br><span class="line">                                attribute:<span class="built_in">NSLayoutAttributeRight</span></span><br><span class="line">                               multiplier:<span class="number">1</span></span><br><span class="line">                                 constant:-padding<span class="variable">.right</span>],</span><br><span class="line">	]];</span><br></pre></td></tr></table></figure>
<h5 id="使用Masonry">使用Masonry</h5><p>精简</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">UIEdgeInsets padding = UIEdgeInsetsMake<span class="params">(<span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>)</span>;</span><br><span class="line"></span><br><span class="line">[view1 mas_makeConstraints:^<span class="params">(MASConstraintMaker *make)</span> &#123;</span><br><span class="line">   make.top.equalTo<span class="params">(superview.mas_top)</span>.with.<span class="built_in">offset</span><span class="params">(padding.top)</span>; <span class="comment">//with 	is an optional semantic filler</span></span><br><span class="line">	make.left.equalTo<span class="params">(superview.mas_left)</span>.with.<span class="built_in">offset</span><span class="params">(padding.left)</span>;</span><br><span class="line">	make.bottom.equalTo<span class="params">(superview.mas_bottom)</span>.with.<span class="built_in">offset</span><span class="params">(-	padding.bottom)</span>;</span><br><span class="line">	make.right.equalTo<span class="params">(superview.mas_right)</span>.with.<span class="built_in">offset</span><span class="params">(-padding.right)</span>;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<p>更加精简</p>
<figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="collection">[view1 mas_makeConstraints:^<span class="list">(<span class="keyword">MASConstraintMaker</span> *make)</span> <span class="collection">&#123;</span><br><span class="line"> 	 	 make.edges.equalTo<span class="list">(<span class="keyword">superview</span>)</span>.with.insets<span class="list">(<span class="keyword">padding</span>)</span><span class="comment">;</span></span><br><span class="line">&#125;</span>]</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h5 id="同理使用SnapKit">同理使用SnapKit</h5><p>精简</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">let</span> box = UIView<span class="params">()</span></span><br><span class="line">superview.addSubview<span class="params">(box)</span></span><br><span class="line"></span><br><span class="line">box.snp_makeConstraints &#123; <span class="params">(make)</span> -&gt; Void in</span><br><span class="line">	make.top.equalTo<span class="params">(superview)</span>.<span class="built_in">offset</span><span class="params">(<span class="number">20</span>)</span></span><br><span class="line">	make.left.equalTo<span class="params">(superview)</span>.<span class="built_in">offset</span><span class="params">(<span class="number">20</span>)</span></span><br><span class="line">	make.bottom.equalTo<span class="params">(superview)</span>.<span class="built_in">offset</span><span class="params">(-<span class="number">20</span>)</span></span><br><span class="line">   	make.right.equalTo<span class="params">(superview)</span>.<span class="built_in">offset</span><span class="params">(-<span class="number">20</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>更加精简</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">box.snp_makeConstraints &#123; <span class="function"><span class="params">(make)</span> -&gt;</span> Void <span class="keyword">in</span></span><br><span class="line">   	make.edges.equalTo(superview).inset(UIEdgeInsetsMake(<span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>, <span class="number">20</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="如何使用_&amp;&amp;_原理">如何使用 &amp;&amp; 原理</h3><h4 id="常见的约束类型对比">常见的约束类型对比</h4><table>
<thead>
<tr>
<th>ViewAttribute</th>
<th>NSLayoutAttribute</th>
</tr>
</thead>
<tbody>
<tr>
<td>view.snp_left</td>
<td>NSLayoutAttribute.Left</td>
</tr>
<tr>
<td>view.snp_right</td>
<td>NSLayoutAttribute.Right</td>
</tr>
<tr>
<td>view.snp_top</td>
<td>NSLayoutAttribute.Top</td>
</tr>
<tr>
<td>view.snp_bottom</td>
<td>NSLayoutAttribute.Bottom</td>
</tr>
<tr>
<td>view.snp_leading</td>
<td>NSLayoutAttribute.Leading</td>
</tr>
<tr>
<td>view.snp_trailing</td>
<td>NSLayoutAttribute.Trailing</td>
</tr>
<tr>
<td>view.snp_width</td>
<td>NSLayoutAttribute.Width</td>
</tr>
<tr>
<td>view.snp_height</td>
<td>NSLayoutAttribute.Height</td>
</tr>
<tr>
<td>view.snp_centerX</td>
<td>NSLayoutAttribute.CenterX</td>
</tr>
<tr>
<td>view.snp_centerY</td>
<td>NSLayoutAttribute.CenterY</td>
</tr>
<tr>
<td>view.snp_baseline</td>
<td>NSLayoutAttribute.Baseline</td>
</tr>
</tbody>
</table>
<h4 id="常见的用法">常见的用法</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">make<span class="class">.top</span><span class="class">.equalTo</span>(<span class="number">42</span>)</span><br><span class="line">make<span class="class">.lessThanOrEqualTo</span><span class="class">.equalTo</span>(SuperView)</span><br><span class="line">make<span class="class">.top</span><span class="class">.equalTo</span>(SuperView)</span><br><span class="line">make<span class="class">.size</span><span class="class">.equalTo</span>(<span class="function"><span class="title">CGSizeMake</span><span class="params">(<span class="number">50</span>, <span class="number">100</span>)</span></span>)</span><br><span class="line">make<span class="class">.edges</span><span class="class">.equalTo</span>(<span class="function"><span class="title">UIEdgeInsetsMake</span><span class="params">(<span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>)</span></span>)</span><br><span class="line">make<span class="class">.left</span><span class="class">.equalTo</span>(view).<span class="function"><span class="title">offset</span><span class="params">(UIEdgeInsetsMake(<span class="number">10</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>)</span></span>)</span><br><span class="line"></span><br><span class="line">make<span class="class">.height</span><span class="class">.equalTo</span>(OtherView).<span class="function"><span class="title">offset</span><span class="params">(<span class="number">10</span>)</span></span></span><br><span class="line">make<span class="class">.trailing</span><span class="class">.equalTo</span>(OtherView.snp_trailing).<span class="function"><span class="title">offset</span><span class="params">(<span class="number">10</span>)</span></span></span><br><span class="line">make<span class="class">.bottom</span><span class="class">.equalTo</span>(-<span class="number">20</span>).<span class="function"><span class="title">priority</span><span class="params">(<span class="number">250</span>)</span></span></span><br></pre></td></tr></table></figure>
<h4 id="对比交互式编程的约束布局">对比交互式编程的约束布局</h4><p><img src="https://cloud.githubusercontent.com/assets/9360037/9401926/1e572316-4809-11e5-9a96-430e688cda85.png" alt="image"></p>
<hr>
<h2 id="JSONModel_for_swift_的探索_-_曾铭">JSONModel for swift 的探索 - 曾铭</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可在 Playground 中尝试</span></span><br><span class="line"><span class="keyword">import</span> <span class="type">Foundation</span></span><br><span class="line"><span class="keyword">import</span> <span class="type">UIKit</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 基本的类型转换</span></span><br><span class="line"><span class="keyword">let</span> a:<span class="type">String</span> = <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="string">""</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">c</span>:<span class="type">String</span>? = <span class="literal">nil</span></span><br><span class="line"><span class="built_in">c</span> = <span class="string">"test"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> d:<span class="type">String</span> = <span class="built_in">c</span> <span class="keyword">as</span> <span class="type">String</span>!</span><br><span class="line"><span class="keyword">var</span> e = <span class="type">Int</span>(<span class="built_in">c</span>!)</span><br><span class="line">e = <span class="type">Int</span>(<span class="string">"123"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="type">Int</span>(<span class="string">"123"</span>)!</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">"a type:<span class="subst">\(a.<span class="keyword">dynamicType</span>)</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"b type:<span class="subst">\(b.<span class="keyword">dynamicType</span>)</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"c type:<span class="subst">\(<span class="built_in">c</span>.<span class="keyword">dynamicType</span>)</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"d type:<span class="subst">\(d.<span class="keyword">dynamicType</span>)</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"e type:<span class="subst">\(e.<span class="keyword">dynamicType</span>)</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"f type:<span class="subst">\(f.<span class="keyword">dynamicType</span>)</span>\n"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// KVC for NSObject</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooKVC</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> p1 : <span class="type">String</span> = <span class="string">"s"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fk1 = <span class="type">FooKVC</span>()</span><br><span class="line"></span><br><span class="line">fk1.p1</span><br><span class="line"></span><br><span class="line">fk1.setValue(<span class="string">"y"</span>, forKey: <span class="string">"p1"</span>)</span><br><span class="line"></span><br><span class="line">fk1.p1</span><br><span class="line"></span><br><span class="line"><span class="comment">// reflect for swift2.0</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"namevalue"</span></span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">123</span></span><br><span class="line">    <span class="keyword">var</span> some:(<span class="type">String</span>, <span class="type">Int</span>) = (<span class="string">"ming"</span>, <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a1 = <span class="type">A</span>()</span><br><span class="line"></span><br><span class="line">a1.age = <span class="number">456</span></span><br><span class="line"></span><br><span class="line">a1.age</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = <span class="type">Mirror</span>(reflecting: a1)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">c</span> <span class="keyword">in</span> r.children &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>.label.<span class="keyword">dynamicType</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>.label)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>.value.<span class="keyword">dynamicType</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">c</span>.value)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"==="</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>KVO for NSObject 略, 注意监听者与被监听者都要是 NSObject 子类</li>
</ul>
<h3 id="JSONModel_for_swift?">JSONModel for swift?</h3><p>&gt;<br>NB: Swift works in a different way under the hood than Objective-C. Therefore I can’t find a way to re-create JSONModel in Swift. JSONModel in Objective-C works in Swift apps through CocoaPods or as an imported Objective-C library.</p>
<h3 id="JSONModel_做的事情">JSONModel 做的事情</h3><ul>
<li>String(NSData) -&gt; Dictionary(Array)</li>
<li>Dictionary(Array) -&gt; Model-Object</li>
</ul>
<h3 id="对应实现">对应实现</h3><ul>
<li>容易:<ul>
<li>swift 容器取值的坑 <a href="https://github.com/SwiftyJSON/SwiftyJSON" target="_blank" rel="external">https://github.com/SwiftyJSON/SwiftyJSON</a></li>
</ul>
</li>
<li>swift 反射不支持赋值，没办法<ul>
<li>通过 NSObject KVC 解决 <a href="https://github.com/PonyCui/PPJSONSerialization" target="_blank" rel="external">https://github.com/PonyCui/PPJSONSerialization</a></li>
<li>临时方案？</li>
</ul>
</li>
</ul>
<h3 id="参考链接">参考链接</h3><ul>
<li><a href="https://github.com/leemorgan/Swift-KVC/blob/master/KVC%20Playground.playground/Contents.swift" target="_blank" rel="external">Swift-KVC (just <code>valueForKey:</code>)</a></li>
<li><a href="http://www.jianshu.com/p/e036e53d240e" target="_blank" rel="external">Swift: KVO 注意事项和属性观察器</a></li>
<li><a href="http://stackoverflow.com/questions/24844681/list-of-classs-properties-in-swift" target="_blank" rel="external">List of class’s properties in swift</a></li>
</ul>
<hr>
<h2 id="RATreeView的简单使用_-_张超耀">RATreeView的简单使用 - 张超耀</h2><h3 id="RATreeView:实现树形结构的TableView；点击每个cell，都可以展开出现新的cell；可以自定义树的层数">RATreeView:实现树形结构的TableView；点击每个cell，都可以展开出现新的cell；可以自定义树的层数</h3><p><img src="https://camo.githubusercontent.com/87d3db881cf57dba674a89a6e1460c00277245b3/68747470733a2f2f7261772e6769746875622e636f6d2f417567757374796e69616b2f524154726565566965772f6d61737465722f53637265656e732f616e696d6174696f6e2e676966" alt=""></p>
<h3 id="主要方法介绍">主要方法介绍</h3><ul>
<li>cell的高度<br><code>-(CGFloat)treeView:(RATreeView *)treeView heightForRowForItem:(id)item treeNodeInfo:(RATreeNodeInfo *)treeNodeInfo</code></li>
<li>这个函数决定是否可以展开，通过设定我们可以设置哪些单元格可以展开到下一层，哪些不可以展开<br><code>- (BOOL)treeView:(RATreeView *)treeView shouldExpandItem:(id)item treeNodeInfo:(RATreeNodeInfo *)treeNodeInfo</code> </li>
<li><p>这个看字面意识就理解了，在单元格显示之前（或者说将要显示时）我们可以做些设置，这里是设置相应深度的颜色背景<br><code>- (void)treeView:(RATreeView *)treeView willDisplayCell:(UITableViewCell *)cell forItem:(id)item treeNodeInfo:(RATreeNodeInfo *)treeNodeInfo</code></p>
</li>
<li><p>这里就是我们最熟悉的点击cell处理函数，看代码慢慢体会treeNodeInfo的使用，不想多说了<br><code>-(void)treeView:(RATreeView *)treeView didSelectRowForItem:(id)item treeNodeInfo:(RATreeNodeInfo *)treeNodeInfo</code></p>
</li>
<li>数据源处理，相当于UITableViewCell处理，关键还是理解treeNodeInfo概念<br><code>- (UITableViewCell *)treeView:(RATreeView *)treeView cellForItem:(id)item treeNodeInfo:(RATreeNodeInfo *)treeNodeInfo</code></li>
<li>返回每一层包含成员的个数，来制表<br><code>- (NSInteger)treeView:(RATreeView *)treeView numberOfChildrenOfItem:(id)item</code></li>
<li>返回cell对象<br><code>- (id)treeView:(RATreeView *)treeView child:(NSInteger)index ofItem:(id)item</code><h3 id="RATreeView_-_github"><a href="https://github.com/Augustyniak/RATreeView" target="_blank" rel="external">RATreeView - github</a></h3></li>
</ul>
<hr>
<h2 id="Facebook_开源的图片加载库Fresco_-_王胜">Facebook 开源的图片加载库Fresco - 王胜</h2><h3 id="Fresco诞生背景">Fresco诞生背景</h3><p>为提高Android中图片的加载速度，一般的图片库都采用了三级缓存：Memory Cache、Disk Cache和Network。但是，Android的系统层是将物理内存平均分配给每一个App。这样每个App所分配的空间都是有限的，早起的android设备，每个App只被分配16MB空间，这样，如果App中使用大量的图片，那么很容易因OOM而Crashes掉。Facebook App正是大量使用图片的App，面临这个问题刻不容缓，所以他们历尽艰难，开发了Fresco图片加载库。 </p>
<h3 id="Fresco诞生过程">Fresco诞生过程</h3><h4 id="内存区域分析：">内存区域分析：</h4><ul>
<li><p>Java heap</p>
<p>每个厂商会为App分配一个固定尺寸的运行空间。所有的申请通过Java的new操作申请，操作相对安全，通过GC内存自动回收保证内存不被泄露。但不幸的时，GC不够精确化，回收得不够及时。因此还是会存在OOM。</p>
</li>
<li><p>Native heap</p>
<p>通过C或者C++可绕过Java虚拟机直接操作物理内存，但Java程序员习惯了GC的自动回收，很难操作C++的手动操作内存。</p>
</li>
<li><p>Ashmen</p>
<p>Android还有一块内存区域，叫Ashmen。这里的操作很像Nativew heap，但是这里是系统调用的。Java 应用程序是不能直接访问Ashmen的，但是一些例外的情况可以操作，图片就是一种例外。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BitmapFactory.Options = <span class="keyword">new</span> BitmapFactory.Options();</span><br><span class="line">options.inPurgeable = <span class="keyword">true</span>;</span><br><span class="line">Bitmap bitmap = BitmapFactory.decodeByteArray(jpeg, <span class="number">0</span>, jpeg.length, options);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="难点突破：">难点突破：</h4><p>尽管发现了Purgeable bitmaps，但是这个解码的过程是在UI线程操作的，因此他们又采用了异步实现，并保证了UI线程不引用时，unpin的区域不会被释放。</p>
<h4 id="上层构建">上层构建</h4><p>提供给上层调用时，采用了MVC的架构：</p>
<ul>
<li>Model：DraweeHierarchy</li>
<li>Control：DraweeControllers</li>
<li>View：DraweeViews</li>
</ul>
<h3 id="使用示例">使用示例</h3><ol>
<li><p>gradle配置中添加库引用</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">compile</span> <span class="string">'com.facebook.fresco:fresco:0.6.1+'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>xml中添加组件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">com.facebook.drawee.view.SimpleDraweeView</span></span><br><span class="line">      <span class="attribute">android:id</span>=<span class="value">"@+id/sdv"</span></span><br><span class="line">      <span class="attribute">android:layout_width</span>=<span class="value">"match_parent"</span></span><br><span class="line">      <span class="attribute">android:layout_height</span>=<span class="value">"match_parent"</span></span><br><span class="line">      <span class="attribute">fresco:roundAsCircle</span>=<span class="value">"true"</span></span><br><span class="line">      <span class="attribute">fresco:roundingBorderWidth</span>=<span class="value">"1dp"</span></span><br><span class="line">      <span class="attribute">fresco:roundingBorderColor</span>=<span class="value">"#00ff00"</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>代码中指定图片地址</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SimpleDraweeView sdv = (SimpleDraweeView) findViewById(R.id.sdv);</span><br><span class="line">sdv.setImageURI(Uri.parse(<span class="string">"http://g.hiphotos.baidu.com/image/pic/item/2e2eb9389b504fc2b351980be7dde71190ef6db5.jpg"</span>));</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="参考资料：">参考资料：</h3><ul>
<li><a href="https://code.facebook.com/posts/366199913563917/introducing-fresco-a-new-image-library-for-android/" target="_blank" rel="external">Fresco的由来</a></li>
<li><a href="http://github.com/facebook/fresco" target="_blank" rel="external">Fresco的源码托管</a></li>
<li><a href="http://fresco-cn.org/docs/index.html" target="_blank" rel="external">中文使用手册</a></li>
</ul>
<hr>
<h1 id="SIAlertView_阅读_-_潘君">SIAlertView 阅读 - 潘君</h1><ul>
<li>创建自定义alert view的流程</li>
</ul>
<p>自定义window-&gt;添加自定义view controller-&gt;定制view-&gt;view引用window</p>
<ul>
<li>@class<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">class</span> <span class="title">SIAlertView</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>能不使用import的就不使用<br>用@class代替</p>
<ul>
<li><p>通知 和 Block</p>
</li>
<li><p>层级</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">UIWindowLevel</span> <span class="built_in">UIWindowLevelSIAlert</span> = <span class="number">1996.0</span>;  <span class="comment">// don't overlap system's alert</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">UIWindowLevel</span> <span class="built_in">UIWindowLevelSIAlertBackground</span> = <span class="number">1985.0</span>; <span class="comment">// below the alert window</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>UIViewTintAdjustmentMode<br>通过获取keyWindow的<code>UIViewTintAdjustmentMode</code>来设置alertWindow的<br>该属性能够设置tint的调整模式</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">enum</span> &#123;</span><br><span class="line">     <span class="comment">// 和父视图的一样</span></span><br><span class="line">     <span class="built_in">UIViewTintAdjustmentModeAutomatic</span>,              </span><br><span class="line">     <span class="comment">// 不对tintColor做任何修改</span></span><br><span class="line">     <span class="built_in">UIViewTintAdjustmentModeNormal</span>,</span><br><span class="line">     <span class="comment">// 在原有tintColor基础上变暗</span></span><br><span class="line">     <span class="built_in">UIViewTintAdjustmentModeDimmed</span>,&#125;<span class="built_in">UIViewTintAdjustmentMode</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>iOS特有版本代码</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="id">#ifdef</span> __IPHONE_7_0</span><br><span class="line"><span class="comment">//some code </span></span><br><span class="line"><span class="id">#endif</span></span><br><span class="line">此处填写iOS7才能运行的代码</span><br></pre></td></tr></table></figure>
</li>
<li><p>initialize</p>
<figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="keyword">void</span>)initialize</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (self != [SIAlertView <span class="keyword">class</span>])</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">// 默认值赋值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">一些值放在+(<span class="keyword">void</span>)initialize；中赋值为默认值，这样不管通过何种方式初始化</span><br></pre></td></tr></table></figure>
</li>
<li><p>UIAppearance<br>SIAlertView *appearance = [self appearance];<br>UIView符合UIAppearence协议，能够全局修改所有实例的UI</p>
</li>
<li><p>调用Bundle中资源<br>[UIImage imageNamed:@”SIAlertView.bundle/button-default”]<br>bundle中资源的调用方法</p>
</li>
</ul>
<ul>
<li><p>_cmd<br>oc特有的方法，无法通过c语言获取</p>
</li>
<li><p>[self invalidateLayout]</p>
</li>
<li><p>合理利用循环引用</p>
</li>
</ul>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="keyword">self</span><span class="variable">.alertWindow</span>) &#123;</span><br><span class="line">    <span class="built_in">UIWindow</span> *window = [[<span class="built_in">UIWindow</span> alloc] initWithFrame:[<span class="built_in">UIScreen</span> mainScreen]<span class="variable">.bounds</span>];</span><br><span class="line">    window<span class="variable">.autoresizingMask</span> = <span class="built_in">UIViewAutoresizingFlexibleWidth</span> | <span class="built_in">UIViewAutoresizingFlexibleHeight</span>;</span><br><span class="line">    window<span class="variable">.opaque</span> = <span class="literal">NO</span>;</span><br><span class="line">    window<span class="variable">.windowLevel</span> = <span class="built_in">UIWindowLevelSIAlert</span>;</span><br><span class="line">    window<span class="variable">.rootViewController</span> = viewController;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.alertWindow</span> = window;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>oldKeyWindow<br>通知alert后面的视图转变方向<br>取用一些oldKeyWindow的值</li>
</ul>
<hr>
<h2 id="android饼图库_-吴明">android饼图库 -吴明</h2><ul>
<li>饼图选择<ul>
<li><a href="https://github.com/jondwillis/AChartEngine/tree/master/achartengine" target="_blank" rel="external">AChartEngine</a>:(太丑了)</li>
<li><a href="https://github.com/xcltapestry/XCL-Charts" target="_blank" rel="external">xcl-charts</a>:(接口文档没有)</li>
<li><a href="https://github.com/lecho/hellocharts-android" target="_blank" rel="external">HelloCharts</a>:(接口文档没有)</li>
<li><a href="https://github.com/PhilJay/MPAndroidChart" target="_blank" rel="external">MPAndroidChart</a>:(接口文档多)</li>
</ul>
</li>
<li><a href="https://github.com/PhilJay/MPAndroidChart" target="_blank" rel="external">MPAndroidChart</a><ul>
<li><img src="https://camo.githubusercontent.com/7e8a4a3c938c21d032d44d999edd781b6e146f2a/68747470733a2f2f7261772e6769746875622e636f6d2f5068696c4a61792f4d50416e64726f696443686172742f6d61737465722f73637265656e73686f74732f73696d706c6564657369676e5f7069656368617274312e706e67" alt="Alt Image Text"></li>
<li>饼图对象:PieChat</li>
<li><a href="https://github.com/PhilJay/MPAndroidChart/wiki" target="_blank" rel="external">详见接口文档</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="HeaderFooterRecyclerViewAdapter——李仙鹏">HeaderFooterRecyclerViewAdapter——李仙鹏</h2><p><a href="https://gist.github.com/mheras/0908873267def75dc746" target="_blank" rel="external">HeaderFooterRecyclerViewAdapter</a>，用于RecyclerView。可方便的添加header或者footer。使用非常简单，只需要按照实际需求，在对应的header、content、footer相关方法进行重写即可。</p>
<p>附上源码</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HeaderFooterRecyclerViewAdapter</span> <span class="keyword">extends</span> <span class="title">RecyclerView</span>.<span class="title">Adapter</span>&lt;<span class="title">RecyclerView</span>.<span class="title">ViewHolder</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> VIEW_TYPE_MAX_COUNT = <span class="number">1000</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> HEADER_VIEW_TYPE_OFFSET = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> FOOTER_VIEW_TYPE_OFFSET = HEADER_VIEW_TYPE_OFFSET + VIEW_TYPE_MAX_COUNT;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> CONTENT_VIEW_TYPE_OFFSET = FOOTER_VIEW_TYPE_OFFSET + VIEW_TYPE_MAX_COUNT;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> headerItemCount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> contentItemCount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> footerItemCount;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#123;<span class="doctag">@inheritDoc</span>&#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> RecyclerView.<span class="function">ViewHolder <span class="title">onCreateViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Delegate to proper methods based on the viewType ranges.</span></span><br><span class="line">        <span class="keyword">if</span> (viewType &gt;= HEADER_VIEW_TYPE_OFFSET &amp;&amp; viewType &lt; HEADER_VIEW_TYPE_OFFSET + VIEW_TYPE_MAX_COUNT) &#123;</span><br><span class="line">            <span class="function"><span class="keyword">return</span> <span class="title">onCreateHeaderItemViewHolder</span><span class="params">(parent, viewType - HEADER_VIEW_TYPE_OFFSET)</span></span>;</span><br><span class="line">        &#125; <span class="function"><span class="keyword">else</span> <span class="title">if</span> <span class="params">(viewType &gt;= FOOTER_VIEW_TYPE_OFFSET &amp;&amp; viewType &lt; FOOTER_VIEW_TYPE_OFFSET + VIEW_TYPE_MAX_COUNT)</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">return</span> <span class="title">onCreateFooterItemViewHolder</span><span class="params">(parent, viewType - FOOTER_VIEW_TYPE_OFFSET)</span></span>;</span><br><span class="line">        &#125; <span class="function"><span class="keyword">else</span> <span class="title">if</span> <span class="params">(viewType &gt;= CONTENT_VIEW_TYPE_OFFSET &amp;&amp; viewType &lt; CONTENT_VIEW_TYPE_OFFSET + VIEW_TYPE_MAX_COUNT)</span> </span>&#123;</span><br><span class="line">            <span class="function"><span class="keyword">return</span> <span class="title">onCreateContentItemViewHolder</span><span class="params">(parent, viewType - CONTENT_VIEW_TYPE_OFFSET)</span></span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// This shouldn't happen as we check that the viewType provided by the client is valid.</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#123;<span class="doctag">@inheritDoc</span>&#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">onBindViewHolder</span><span class="params">(RecyclerView.ViewHolder viewHolder, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Delegate to proper methods based on the viewType ranges.</span></span><br><span class="line">        <span class="keyword">if</span> (headerItemCount &gt; <span class="number">0</span> &amp;&amp; position &lt; headerItemCount) &#123;</span><br><span class="line">            onBindHeaderItemViewHolder(viewHolder, position);</span><br><span class="line">        &#125; <span class="function"><span class="keyword">else</span> <span class="title">if</span> <span class="params">(contentItemCount &gt; <span class="number">0</span> &amp;&amp; position - headerItemCount &lt; contentItemCount)</span> </span>&#123;</span><br><span class="line">            onBindContentItemViewHolder(viewHolder, position - headerItemCount);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            onBindFooterItemViewHolder(viewHolder, position - headerItemCount - contentItemCount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#123;<span class="doctag">@inheritDoc</span>&#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">int</span> <span class="title">getItemCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Cache the counts and return the sum of them.</span></span><br><span class="line">        headerItemCount = getHeaderItemCount();</span><br><span class="line">        contentItemCount = getContentItemCount();</span><br><span class="line">        footerItemCount = getFooterItemCount();</span><br><span class="line">        <span class="keyword">return</span> headerItemCount + contentItemCount + footerItemCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * &#123;<span class="doctag">@inheritDoc</span>&#125;</span><br><span class="line">     */</span></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">int</span> <span class="title">getItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Delegate to proper methods based on the position, but validate first.</span></span><br><span class="line">        <span class="keyword">if</span> (headerItemCount &gt; <span class="number">0</span> &amp;&amp; position &lt; headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">return</span> validateViewType(getHeaderItemViewType(position)) + HEADER_VIEW_TYPE_OFFSET;</span><br><span class="line">        &#125; <span class="function"><span class="keyword">else</span> <span class="title">if</span> <span class="params">(contentItemCount &gt; <span class="number">0</span> &amp;&amp; position - headerItemCount &lt; contentItemCount)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> validateViewType(getContentItemViewType(position - headerItemCount)) + CONTENT_VIEW_TYPE_OFFSET;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> validateViewType(getFooterItemViewType(position - headerItemCount - contentItemCount)) + FOOTER_VIEW_TYPE_OFFSET;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Validates that the view type is within the valid range.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> viewType the view type.</span><br><span class="line">     * <span class="doctag">@return</span> the given view type.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">int</span> <span class="title">validateViewType</span><span class="params">(<span class="keyword">int</span> viewType)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (viewType &lt; <span class="number">0</span> || viewType &gt;= VIEW_TYPE_MAX_COUNT) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">"viewType must be between 0 and "</span> + VIEW_TYPE_MAX_COUNT);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> viewType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a header item is inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position of the header item.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemInserted</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= newHeaderItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for header items [0 - "</span> + (newHeaderItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemInserted(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple header items are inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemRangeInserted</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; newHeaderItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for header items [0 - "</span> + (newHeaderItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeInserted(positionStart, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a header item is changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemChanged</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for header items [0 - "</span> + (headerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemChanged(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple header items are changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemRangeChanged</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt;= headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for header items [0 - "</span> + (headerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeChanged(positionStart, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that an existing header item is moved to another position.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> fromPosition the original position.</span><br><span class="line">     * <span class="doctag">@param</span> toPosition   the new position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemMoved</span><span class="params">(<span class="keyword">int</span> fromPosition, <span class="keyword">int</span> toPosition)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (fromPosition &lt; <span class="number">0</span> || toPosition &lt; <span class="number">0</span> || fromPosition &gt;= headerItemCount || toPosition &gt;= headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given fromPosition "</span> + fromPosition + <span class="string">" or toPosition "</span> + toPosition + <span class="string">" is not within the position bounds for header items [0 - "</span> + (headerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemMoved(fromPosition, toPosition);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a header item is removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemRemoved</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for header items [0 - "</span> + (headerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRemoved(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple header items are removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyHeaderItemRangeRemoved</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; headerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for header items [0 - "</span> + (headerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeRemoved(positionStart, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a content item is inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position of the content item.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemInserted</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">int</span> newContentItemCount = getContentItemCount();</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= newContentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for content items [0 - "</span> + (newContentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemInserted(position + newHeaderItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple content items are inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemRangeInserted</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">int</span> newContentItemCount = getContentItemCount();</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; newContentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for content items [0 - "</span> + (newContentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeInserted(positionStart + newHeaderItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a content item is changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemChanged</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= contentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for content items [0 - "</span> + (contentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemChanged(position + headerItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple content items are changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemRangeChanged</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; contentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for content items [0 - "</span> + (contentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeChanged(positionStart + headerItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that an existing content item is moved to another position.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> fromPosition the original position.</span><br><span class="line">     * <span class="doctag">@param</span> toPosition   the new position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemMoved</span><span class="params">(<span class="keyword">int</span> fromPosition, <span class="keyword">int</span> toPosition)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (fromPosition &lt; <span class="number">0</span> || toPosition &lt; <span class="number">0</span> || fromPosition &gt;= contentItemCount || toPosition &gt;= contentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given fromPosition "</span> + fromPosition + <span class="string">" or toPosition "</span> + toPosition + <span class="string">" is not within the position bounds for content items [0 - "</span> + (contentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemMoved(fromPosition + headerItemCount, toPosition + headerItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a content item is removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemRemoved</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= contentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for content items [0 - "</span> + (contentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRemoved(position + headerItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple content items are removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyContentItemRangeRemoved</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; contentItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for content items [0 - "</span> + (contentItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeRemoved(positionStart + headerItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a footer item is inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position of the content item.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemInserted</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">int</span> newContentItemCount = getContentItemCount();</span><br><span class="line">        <span class="keyword">int</span> newFooterItemCount = getFooterItemCount();</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= newFooterItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for footer items [0 - "</span> + (newFooterItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemInserted(position + newHeaderItemCount + newContentItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple footer items are inserted.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemRangeInserted</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> newHeaderItemCount = getHeaderItemCount();</span><br><span class="line">        <span class="keyword">int</span> newContentItemCount = getContentItemCount();</span><br><span class="line">        <span class="keyword">int</span> newFooterItemCount = getFooterItemCount();</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; newFooterItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for footer items [0 - "</span> + (newFooterItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeInserted(positionStart + newHeaderItemCount + newContentItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a footer item is changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemChanged</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= footerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for footer items [0 - "</span> + (footerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemChanged(position + headerItemCount + contentItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple footer items are changed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemRangeChanged</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; footerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for footer items [0 - "</span> + (footerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeChanged(positionStart + headerItemCount + contentItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that an existing footer item is moved to another position.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> fromPosition the original position.</span><br><span class="line">     * <span class="doctag">@param</span> toPosition   the new position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemMoved</span><span class="params">(<span class="keyword">int</span> fromPosition, <span class="keyword">int</span> toPosition)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (fromPosition &lt; <span class="number">0</span> || toPosition &lt; <span class="number">0</span> || fromPosition &gt;= footerItemCount || toPosition &gt;= footerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given fromPosition "</span> + fromPosition + <span class="string">" or toPosition "</span> + toPosition + <span class="string">" is not within the position bounds for footer items [0 - "</span> + (footerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemMoved(fromPosition + headerItemCount + contentItemCount, toPosition + headerItemCount + contentItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that a footer item is removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemRemoved</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (position &lt; <span class="number">0</span> || position &gt;= footerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given position "</span> + position + <span class="string">" is not within the position bounds for footer items [0 - "</span> + (footerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRemoved(position + headerItemCount + contentItemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Notifies that multiple footer items are removed.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> positionStart the position.</span><br><span class="line">     * <span class="doctag">@param</span> itemCount     the item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="function"><span class="keyword">void</span> <span class="title">notifyFooterItemRangeRemoved</span><span class="params">(<span class="keyword">int</span> positionStart, <span class="keyword">int</span> itemCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (positionStart &lt; <span class="number">0</span> || itemCount &lt; <span class="number">0</span> || positionStart + itemCount &gt; footerItemCount) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(<span class="string">"The given range ["</span> + positionStart + <span class="string">" - "</span> + (positionStart + itemCount - <span class="number">1</span>) + <span class="string">"] is not within the position bounds for footer items [0 - "</span> + (footerItemCount - <span class="number">1</span>) + <span class="string">"]."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        notifyItemRangeRemoved(positionStart + headerItemCount + contentItemCount, itemCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the header item view type. By default, this method returns 0.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     * <span class="doctag">@return</span> the header item view type (within the range [0 - VIEW_TYPE_MAX_COUNT-1]).</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">int</span> <span class="title">getHeaderItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the footer item view type. By default, this method returns 0.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     * <span class="doctag">@return</span> the footer item view type (within the range [0 - VIEW_TYPE_MAX_COUNT-1]).</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">int</span> <span class="title">getFooterItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the content item view type. By default, this method returns 0.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> position the position.</span><br><span class="line">     * <span class="doctag">@return</span> the content item view type (within the range [0 - VIEW_TYPE_MAX_COUNT-1]).</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">int</span> <span class="title">getContentItemViewType</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the header item count. This method can be called several times, so it should not calculate the count every time.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@return</span> the header item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">int</span> <span class="title">getHeaderItemCount</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the footer item count. This method can be called several times, so it should not calculate the count every time.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@return</span> the footer item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">int</span> <span class="title">getFooterItemCount</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * Gets the content item count. This method can be called several times, so it should not calculate the count every time.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@return</span> the content item count.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">int</span> <span class="title">getContentItemCount</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onCreateViewHolder(android.view.ViewGroup, int)&#125;, but for header items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> parent         the parent view.</span><br><span class="line">     * <span class="doctag">@param</span> headerViewType the view type for the header.</span><br><span class="line">     * <span class="doctag">@return</span> the view holder.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> RecyclerView.<span class="function">ViewHolder <span class="title">onCreateHeaderItemViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> headerViewType)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onCreateViewHolder(android.view.ViewGroup, int)&#125;, but for footer items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> parent         the parent view.</span><br><span class="line">     * <span class="doctag">@param</span> footerViewType the view type for the footer.</span><br><span class="line">     * <span class="doctag">@return</span> the view holder.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> RecyclerView.<span class="function">ViewHolder <span class="title">onCreateFooterItemViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> footerViewType)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onCreateViewHolder(android.view.ViewGroup, int)&#125;, but for content items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> parent          the parent view.</span><br><span class="line">     * <span class="doctag">@param</span> contentViewType the view type for the content.</span><br><span class="line">     * <span class="doctag">@return</span> the view holder.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> RecyclerView.<span class="function">ViewHolder <span class="title">onCreateContentItemViewHolder</span><span class="params">(ViewGroup parent, <span class="keyword">int</span> contentViewType)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onBindViewHolder(android.support.v7.widget.RecyclerView.ViewHolder, int)&#125;, but for header items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> headerViewHolder the view holder for the header item.</span><br><span class="line">     * <span class="doctag">@param</span> position         the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">void</span> <span class="title">onBindHeaderItemViewHolder</span><span class="params">(RecyclerView.ViewHolder headerViewHolder, <span class="keyword">int</span> position)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onBindViewHolder(android.support.v7.widget.RecyclerView.ViewHolder, int)&#125;, but for footer items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> footerViewHolder the view holder for the footer item.</span><br><span class="line">     * <span class="doctag">@param</span> position         the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">void</span> <span class="title">onBindFooterItemViewHolder</span><span class="params">(RecyclerView.ViewHolder footerViewHolder, <span class="keyword">int</span> position)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span><br><span class="line">     * This method works exactly the same as &#123;<span class="doctag">@link</span> #onBindViewHolder(android.support.v7.widget.RecyclerView.ViewHolder, int)&#125;, but for content items.</span><br><span class="line">     *</span><br><span class="line">     * <span class="doctag">@param</span> contentViewHolder the view holder for the content item.</span><br><span class="line">     * <span class="doctag">@param</span> position          the position.</span><br><span class="line">     */</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">abstract</span> <span class="function"><span class="keyword">void</span> <span class="title">onBindContentItemViewHolder</span><span class="params">(RecyclerView.ViewHolder contentViewHolder, <span class="keyword">int</span> position)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post- 聊聊提高代码质量" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/14/ 聊聊提高代码质量/" class="article-date">
  	<time datetime="2015-08-14T13:08:35.000Z" itemprop="datePublished">2015-08-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/14/ 聊聊提高代码质量/">聊聊提高代码质量</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么样的代码才是好的——李仙鹏">什么样的代码才是好的——李仙鹏</h2><h3 id="我所理解的好代码">我所理解的好代码</h3><ul>
<li><p>代码规范——可读性</p>
<ul>
<li>统一命名方式（<a href="http://www.hawstein.com/posts/google-java-style.html" target="_blank" rel="external">Google Java代码风格</a>）</li>
<li>尽量不要出现magic number</li>
<li>清晰的代码注释文档（<a href="http://www.importnew.com/16459.html#rd?sukey=fc78a68049a14bb28cbb47b788e9ade0d111f3c2348d187194837eb45a0be9421f2e0aad0fec6b2290f2a561779caea1" target="_blank" rel="external">改善Java文档的理由、建议和技巧</a>）</li>
<li>控制方法或者函数的细粒度</li>
<li>减少代码冗余</li>
</ul>
</li>
<li><p>代码耦合低——可扩展性、可移植性</p>
<ul>
<li>尽量采用接口实现，减少继承</li>
<li>通用功能尽量抽取作为一个独立的方法，避免重复造轮子</li>
<li>设计模式并不能提高代码执行效率，但容易对代码进行模块切分，从而进行代码的解耦合。设计模式也可以算是程序员的一种通用“语言“，方便程序员之间的沟通.<ul>
<li>根据不同OS或者语言特性，从大的架构上遵循MVC或者MVP或者其它类似的层次分明的设计模式。</li>
</ul>
</li>
</ul>
</li>
<li><p>严格的code review</p>
<ul>
<li>能够发现潜在的bug、不合理的实现和是否遵从代码规范</li>
<li>有助于代码提交人员对自身代码质量的要求——面子问题</li>
</ul>
</li>
<li><p>性能</p>
</li>
</ul>
<blockquote>
<p>以上这些点都是为了程序的健壮性、可扩展性、可移植性。最终目标，在核心开发人员变动或者产品需求变动后，都不会对代码维护、版本迭代和程序稳定性造成重大影响。</p>
</blockquote>
<h3 id="51offer-v2-5-0重写中，我们是如何做的">51offer-v2.5.0重写中，我们是如何做的</h3><ul>
<li><p>整体架构上采用<a href="http://baike.baidu.com/view/3456444.htm" target="_blank" rel="external">MVP模式</a></p>
<ul>
<li>V和P通过接口实现交互，M只被P处理，P处理完后通过接口反馈给V<br><img src="http://magenic.com/Portals/0/xBlog/uploads/2015/4/10/presenter-view-model-1-mvp-pattern-for-android-jeff-angellini.png" alt="MVP"></li>
</ul>
</li>
<li><p>代码可移植性和可扩展性</p>
<ul>
<li>按照是否通用原则，命名包名——非通用包名，放在offer包下；通用功能模块，放在非offer包下。这样有利于快速移植，或者打成JAR包</li>
<li>接口实现，减少继承——在类的继承中，减少继承体系中每层父类的职责范围</li>
</ul>
</li>
<li><p>HTTP请求</p>
<ul>
<li>底层请求采用<a href="http://square.github.io/okhttp/" target="_blank" rel="external">OkHttp</a>，<a href="http://square.github.io/okhttp/" target="_blank" rel="external">OkHttp</a>默认实现的功能为：<ul>
<li>支持协议——<a href="http://baike.baidu.com/view/11521153.htm" target="_blank" rel="external">HTTP/2</a>和<a href="http://baike.baidu.com/view/2984528.htm" target="_blank" rel="external">SPDY</a>, 可以合并多个到同一个主机的请求<ul>
<li>使用连接池技术减少请求的延迟</li>
<li>使用GZIP压缩减少传输的数据量</li>
<li>报文缓存响应，避免重复的网络请求</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>json解析</p>
<ul>
<li><a href="https://sites.google.com/site/gson/gson-user-guide" target="_blank" rel="external">Gson</a>，这是<a href="http://www.open-open.com/lib/view/open1434377191317.html" target="_blank" rel="external">综合考虑Json使用场景后的选择结果</a>——方便json字符串到对象之间的转换、<a href="https://sites.google.com/site/gson/gson-user-guide" target="_blank" rel="external">Gson</a>在处理短的json时速度比较快、<a href="https://sites.google.com/site/gson/gson-user-guide" target="_blank" rel="external">Gson</a>不需要太多的注解</li>
</ul>
</li>
<li><p>图片加载</p>
<ul>
<li><p>采用<a href="https://github.com/nostra13/Android-Universal-Image-Loader" target="_blank" rel="external">Android-Universal-Image-Loader</a></p>
<ul>
<li>多线程图片加载</li>
<li>可自定义的加载器</li>
<li>可自定义的图片显示回调</li>
<li>图片三级缓存——内存和硬盘缓存的图片通过多种数据结构管理</li>
<li>监听加载过程</li>
</ul>
</li>
<li><p>bitmap显示质量设置为RGB_565——一个像素需要16位表示，Android中默认为ARGB_8888——一个像素需要32位表示。这种方式在<strong><em>基本保障图片质量要求</em></strong>的同时，还能够大大减少手机的内存占用</p>
</li>
</ul>
</li>
<li><p>数据存储</p>
<ul>
<li>由于目前客户端还未涉及到大量数据和离线加载模式，所以我们暂不使用数据库（以后在做IM或者离线加载时，会考虑使用ORM来访问数据库），综合速度考虑使用Android的SharedPreference</li>
</ul>
</li>
</ul>
<h2 id="组件通信库EventBus_-_吴强">组件通信库EventBus - 吴强</h2><p>  EventBus是一个Android端优化的publish/subscribe消息总线，简化了应用程序内各组件间、组件与后台线程间的通信。</p>
<h3 id="三个主要元素：">三个主要元素：</h3><ul>
<li>Event：事件<blockquote>
<p>Event可以是任意类型的对象</p>
</blockquote>
</li>
<li>Subscriber：事件订阅者，接收特定的事件<blockquote>
<p>在EventBus中，使用约定来指定事件订阅者以简化使用。即所有事件订阅都都是以onEvent开头的函数，具体来说，函数的名字是onEvent，onEventMainThread，onEventBackgroundThread，onEventAsync这四个</p>
</blockquote>
</li>
<li>Publisher:事件发布者，用于通知Subscriber有事件发生<blockquote>
<p>可以在任意线程任意位置发送事件，直接调用EventBus的post(Object)方法，可以自己实例化EventBus对象，但一般使用默认的单例就好了：EventBus.getDefault()，根据post函数参数的类型，会自动调用订阅相应类型事件的函数。</p>
</blockquote>
</li>
</ul>
<h3 id="ThreadMode">ThreadMode</h3><p>  Subscriber函数的名字只能是那4个，因为每个事件订阅函数都是和一个ThreadMode相关联的，ThreadMode指定了会调用的函数。有以下四个ThreadMode：</p>
<ul>
<li>PostThread:<br>事件的处理在和事件的发送在相同的进程，所以事件处理时间不应太长，不然影响事件的发送线程，而这个线程可能是UI线程。对应的函数名是onEvent。</li>
<li>MainThread:<br>事件的处理会在UI线程中执行。事件处理时间不能太长，这个不用说的，长了会ANR的，对应的函数名是onEventMainThread。</li>
<li>BackgroundThread:<br>事件的处理会在一个后台线程中执行，对应的函数名是onEventBackgroundThread，虽然名字是BackgroundThread，事件处理是在后台线程，但事件处理时间还是不应该太长，因为如果发送事件的线程是后台线程，会直接执行事件，如果当前线程是UI线程，事件会被加到一个队列中，由一个线程依次处理这些事件，如果某个事件处理时间太长，会阻塞后面的事件的派发或处理。</li>
<li>Async:<br>事件处理会在单独的线程中执行，主要用于在后台线程中执行耗时操作，每个事件会开启一个线程（有线程池），但最好限制线程的数目。</li>
</ul>
<h3 id="注册事件与解除注册">注册事件与解除注册</h3><ul>
<li>通过EventBus.getDefault().register方法可以向EventBus注册来订阅事件</li>
<li>通过registerSticky可以注册Stick事件处理函数</li>
<li>通过EventBus.getDefault().unregister方法解除EventBus事件订阅</li>
</ul>
<h3 id="Post事件">Post事件</h3><ul>
<li>直接调用EventBus.getDefault().post(Event)就可以发送事件，根据Event的类型就可以发送到相应事件的订阅者。</li>
<li>当通过postSticky发送一个事件时，这个类型的事件的最后一次事件会被缓存起来，当有订阅者通过registerSticky注册时，会把之前缓存起来的这个事件直接发送给它</li>
</ul>
<h3 id="缺点">缺点</h3><p>  无法进程间通信，如果一个应用内有多个进程的话就没办法了</p>
<h3 id="注意事项及要点">注意事项及要点</h3><ul>
<li>同一个onEvent函数不能被注册两次，所以不能在一个类中注册同时还在父类中注册</li>
<li>当Post一个事件时，这个事件类的父类的事件也会被Post。</li>
<li>Post的事件无Subscriber处理时会Post <code>NoSubscriberEvent</code>事件，当调用Subscriber失败时会Post <code>SubscriberExceptionEvent</code>事件。</li>
</ul>
<h3 id="其他">其他</h3><p>  EventBus中还有个Util包，主要作用是可以通过AsyncExecutor执行一个Runnable，通过内部的RunnableEx(可以搜索异常的Runnable)当Runnable抛出异常时通过EventBus发消息显示错误对话框。</p>
<p>参考资料：<a href="http://www.cnblogs.com/angeldevil/p/3715934.html" target="_blank" rel="external">快速Android开发系列通信篇之EventBus</a></p>
<h2 id="如何提高代码质量——吴明">如何提高代码质量——吴明</h2><p><img src="http://ww4.sinaimg.cn/large/7cc829d3jw1dpx6ahcgfuj.jpg" alt="Alt text"></p>
<ul>
<li>code review</li>
<li><a href="http://www.hawstein.com/posts/google-java-style.html" target="_blank" rel="external">命名规范</a><ul>
<li>java命名规范:<ul>
<li>java类：m+模块+功能(如:mLoginRegester)</li>
<li>控件类：m+模块+功能+控件缩写(如:mLoginRegesterBtn)</li>
<li>常量:模块+功能(如:SCHOOL_COUNT_MAX)</li>
</ul>
</li>
<li>xml命名规范<ul>
<li>id:模块+功能+控件缩写</li>
</ul>
</li>
<li>color，string，dimen，drawable</li>
<li>图片：模块<em>功能</em>备注_状态</li>
<li>注释</li>
</ul>
</li>
<li>好的框架<ul>
<li>okhttp</li>
<li>Gson</li>
</ul>
</li>
<li>设计模式:<ul>
<li><a href="http://cantellow.iteye.com/blog/838473" target="_blank" rel="external">单例模式</a></li>
<li>工厂模式</li>
<li>策略模式</li>
<li>代理模式</li>
<li><a href="http://blog.csdn.net/cym492224103/article/details/38776873" target="_blank" rel="external">mvp模式</a></li>
</ul>
</li>
<li>处理异常</li>
<li><p>优化性能</p>
</li>
<li><p>代码测试工具:静态代码分析</p>
</li>
</ul>
<h2 id="如何写一份好的代码_-_张超耀">如何写一份好的代码 - 张超耀</h2><h3 id="数据结构和核心算法">数据结构和核心算法</h3><ul>
<li><p>数据结构的重要性：低水平程序员总在考虑代码，高水平程序员总在考虑数据结构及其之间的关系</p>
</li>
<li><p>数据结构决定算法,数据结构考虑清楚了，核心的算法自然就出来了，这就是关于每个类的每个方法如何实现的问题</p>
</li>
</ul>
<h3 id="功能实现">功能实现</h3><ul>
<li><p>思路确定后，实现过程也需要大量的构思活动。碰到比较熟悉有经验的领域，自然可以轻车熟路，但难免会有一些你不太熟悉的技术需要尝试。作为一个程序员，最大的挑战也是最大的乐趣所在，就是不断学习新的技术，没有这样的心态，很快就会落后。</p>
</li>
<li><p>那么遇到不熟悉的技术怎么办？Demo先行，这样做的好处是把单个技术问题和其他潜在的bug隔离开来，便于快速学习新技术。否则，直接在项目里写代码出错以后，要判断问题的源头都要多费好几倍的精力。</p>
</li>
</ul>
<h3 id="测试">测试</h3><ul>
<li>测试很重要，设计测试用例就像开发时设计数据结构一样，也是很关键的。</li>
</ul>
<h3 id="代码可读性">代码可读性</h3><ul>
<li><p>要想自己满意，代码的可读性一定要好。要做到一年后甚至几年后你拿到自己写的代码，还能很容易看明白当时的思路和实现。这就涉及到命名和注释的问题</p>
</li>
<li><p>命名就像超市里的商品标签一样，要让看得人一目了然就知道这是个什么东西</p>
</li>
<li><p>注释也是很重要的，它可以用来说明一段代码的作用，算法的设计思想，或者是方法调用的参数格式要求等</p>
</li>
</ul>
<h3 id="最后总结一下：">最后总结一下：</h3><ul>
<li>技术水平是可以慢慢提高的，但是好的编程习惯需要从一开始就养成，它会让你在前进的道路上事半功倍，受益终生。</li>
</ul>
<h2 id="怎样写好的代码_-_曾铭">怎样写好的代码 - 曾铭</h2><blockquote>
<p>有两种方式构建软件设计：一种是把软件做得很简单以至于明显找不到缺陷；另一种是把它做得很复杂以至于找不到明显的缺陷<br>——C.A.R. Hoare</p>
</blockquote>
<h3 id="谁来写？角色的定义">谁来写？角色的定义</h3><ul>
<li>程序员 vs 工程师</li>
<li>实现功能 vs 解决问题</li>
<li>搭个帐篷 vs 照顾孩子</li>
</ul>
<h3 id="好的代码？">好的代码？</h3><blockquote>
<p>一个程序员更希望接手一个有bug但是看的懂的工程，还是一个没bug但是看不懂的工程？</p>
</blockquote>
<ul>
<li>代码跟人聊天，解释做什么，注释解释为什么这么做，要注意什么</li>
<li>面向接口而不仅仅面向对象</li>
</ul>
<p>举例：在 APP 开发和 API 开发之间，面向 API 文档做开发</p>
<h3 id="写的过程？（推荐开发过程）">写的过程？（推荐开发过程）</h3><ul>
<li>需求明确（理解来源及演进）</li>
<li>整体设计（外在联系，临界条件，错误处理）</li>
<li>实现（验证思路，解决问题及优化）<strong>切记不要拿到需求直接跳到这一步</strong></li>
</ul>
<h3 id="好？目标">好？目标</h3><ul>
<li>可运行，可读，可维护，可测试</li>
<li>参见 TDD，BDD</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post- 随意“无主题”" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/07/ 随意“无主题”/" class="article-date">
  	<time datetime="2015-08-07T14:08:35.000Z" itemprop="datePublished">2015-08-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/07/ 随意“无主题”/">无主题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Android中ListView的垃圾回收_-_王胜">Android中ListView的垃圾回收 - 王胜</h2><h3 id="ListView中ItemView的复用">ListView中ItemView的复用</h3><p>为了提高ListView的加载速度和用户操作的流畅度，ListView底层做了ItemView的复用，避免重复地为每一个ItemView开辟空间。</p>
<ul>
<li><p>ActiveView</p>
<p>激活view，当期显示在屏幕上的激活的view</p>
</li>
<li>ScrapView<br>废弃view，被删除的ActiveView会被自动加入ScrapView</li>
</ul>
<h3 id="ListView的ItemView中大图片的覆盖显示">ListView的ItemView中大图片的覆盖显示</h3><p>由于复用机制，当Item中包含大图时，由于Java GC的回收机制不够及时，造成ScrapView中图片资源不能立即释放，当用户上拉加载新的item内容时，却看到了之前加载的图片，直到新图从网络下载完毕，才会刷新view正确显示图片。</p>
<p>考虑到这种情况，Android 在API Level1中已经为ListView和GridView添加了RecyclerListener回调接口。开发者只需为ListView注册回调，重写onMovedToScrapHeap方法即可。</p>
<p>示例：</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mListView.setRecyclerListener(<span class="keyword">new</span> RecyclerListener() &#123;</span><br><span class="line">        <span class="annotation">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onMovedToScrapHeap</span><span class="params">(View view)</span> </span>&#123;</span><br><span class="line">            <span class="comment">// Release strong reference when a view is recycled</span></span><br><span class="line">            <span class="keyword">final</span> ImageView imageView = (ImageView) view.findViewById(android.R.id.icon);</span><br><span class="line">            imageView.setImageBitmap(<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="参考资料：">参考资料：</h3><ul>
<li><a href="http://www.cnblogs.com/qiengo/p/3628235.html" target="_blank" rel="external">ListView回收机制相关分析</a></li>
<li><a href="http://stackoverflow.com/questions/14238532/listview-items-remove-bitmaps-from-memory-when-the-user-scrolls" target="_blank" rel="external">Listview items remove bitmaps from memory when the user scrolls</a></li>
</ul>
<h2 id="提升用户体验的7大微交互_-_张超耀">提升用户体验的7大微交互 - 张超耀</h2><hr>
<p>众所周知，我们总是依据封面来判断书的好坏，聪明的设计师会创造实用有吸引力的界面。潜在用户可能会被吸引，但如何一直黏住他们呢？</p>
<p>要试着回答这个问题，所有一切都指向人本设计，其中用户是最主要的考量。以人为本：你的应用应该使用日常用语，包括情绪、口语，外观还要有一丝“诱惑力”。界面应当成为你的好朋友，时刻准备给出建议提升你的体验，让你会心一笑。</p>
<ul>
<li><p>是微交互在起作用。精确的说，这主要是界面附带的交互动画，使它更具表现力。优秀的动画能够：</p>
<blockquote>
<ul>
<li>表达状态并提供反馈</li>
<li>提升直接的操纵感</li>
<li>将操作结果可视化</li>
</ul>
</blockquote>
</li>
<li><p>在用户体验中，关键是你如何对待用户，还有他们使用产品时的感受。极小的细节都值得加倍留心。微交互提供了用户所需的反馈，表达了当前运行状况。无论背后逻辑有多么复杂，都能使界面更亲切。</p>
</li>
</ul>
<h3 id="显示系统状态">显示系统状态</h3><p>Jakob Nielsen在<a href="http://www.nngroup.com/articles/ten-usability-heuristics/" target="_blank" rel="external">可用性原则启示</a>第一条中描述：让用户始终知晓当前在发生什么。用户希望立马得到回应，但总有些情况下，网站需要一点时间等待操作完成。</p>
<p>那么，界面就应当在背景处显示图形，反映完成百分比。或是播放声音，让用户了解当前发生的事情。这个原则也关系到文件传输：不要让用户觉得无聊，给他们看进度条。即使是不太令人愉快的通知，比如传输失败，也应该以令人喜爱的方式展现。让你的用户微笑！<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746192883238.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746198569160.gif" alt=""></p>
<h3 id="突出显示变化">突出显示变化</h3><p>通常为了节省空间，应用会在需要时把某个按钮替换掉。有时我们需要展现通知，确保用户注意到了。动画可以吸引他们注意，不至于忽略你认为重要的信息。<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746292521779.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746298451922.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746303762302.gif" alt=""></p>
<h3 id="保持前后关联">保持前后关联</h3><p>在这个智能手机和小屏幕智能手表的时代，难以在屏幕上展现大量信息。有一种处理方式，是在不同页面之间保持清晰的导航。让用户理解什么东西来自何处，便能轻易回溯。有多种方式可以实现：<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746441674887.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746486894390.gif" alt=""></p>
<h3 id="非标准布局">非标准布局</h3><p>继续之前的例子，微交互应当帮助用户理解如何操作非标准的布局，去除不必要的疑惑。照片前后滑动、滚动式图表和旋转角色都是很棒的选择:<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746549577563.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746559645647.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438754793930792.gif" alt=""></p>
<h3 id="行动号召">行动号召</h3><p>除了帮助用户有效地操作应用，微交互也有鼓励用户操作的能力：持续浏览、点赞或分享内容，只因为这很有吸引力，用户不舍离去：<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746778185472.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746713384297.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746720646421.gif" alt=""></p>
<h3 id="输入的视觉化">输入的视觉化</h3><p>所有应用中，数据录入都是最重要的元素之一。数据录入决定了用户所得结果的质量。通常，这部分很无趣，但微交互可以使它与众不同：<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438746992747487.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438747007172007.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438747013959192.gif" alt=""></p>
<h3 id="使教程生动形象">使教程生动形象</h3><p>当然，在应用发布后，动画可以教育用户。它突出一些基本功能和控件，排除用户在未来的使用中的障碍。<br><img src="http://cc.cocimg.com/api/uploads/20150805/1438753923658504.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438753975480751.gif" alt=""><br><img src="http://cc.cocimg.com/api/uploads/20150805/1438754028476558.gif" alt=""></p>
<h3 id="结论">结论</h3><p>所以，如果你重视用户体验，就应该从头到尾精细打磨界面，通过微交互与动画为它增色添彩。它会为你的项目赋予生命。</p>
<h3 id="注意每个细节，是使人机交互易用的成功要诀">注意每个细节，是使人机交互易用的成功要诀</h3><p><a href="http://www.cocoachina.com/design/20150806/12916.html" target="_blank" rel="external">原文链接</a></p>
<h2 id="曾铭">曾铭</h2><h3 id="CLI_上手">CLI 上手</h3><h3 id="CLI_vs_GUI">CLI vs GUI</h3><ul>
<li>Command Line Interface VS Graphical User Interface</li>
<li>分别是给工程师用的和给人（包含工程师）用的</li>
<li>哪个方便用哪个，哪个好玩用哪个</li>
</ul>
<h3 id="CLI_能干什么？（for_me）">CLI 能干什么？（for me）</h3><ul>
<li>快速安装软件</li>
<li>CLI 开发：工具、服务，如 jenkins, sonar, ssh-key,</li>
</ul>
<h3 id="CLI_如何上手">CLI 如何上手</h3><ul>
<li>不要畏惧，把命令行当做大一上的 C 语言，是最简单，逻辑最清晰的。（鬼知道 GUI 背后都做了什么）</li>
<li>理解环境变量 profile_load_path env echo，知道 shell 怎么去找一个命令即可</li>
<li>安装软件，了解常见的包管理工具即可：<a href="http://brew.sh/" target="_blank" rel="external">homebrew</a>（常用软件）, <a href="https://rubygems.org/" target="_blank" rel="external">gem</a>（ruby 软件）, <a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a> （node.js 软件）<ul>
<li>基本都是 search install list ，会这三个参数就行了</li>
<li>思想都是想通的，比如 <a href="https://cocoapods.org/" target="_blank" rel="external">pod</a> (for iOS/OSX dev)</li>
</ul>
</li>
</ul>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 在终端输入试试</span><br><span class="line"><span class="keyword">say</span> <span class="string">"hi"</span></span><br><span class="line"># 还有王胜推荐的 sl</span><br><span class="line">brew install sl</span><br><span class="line">sl</span><br></pre></td></tr></table></figure>
<h1 id="Sonar_学习">Sonar 学习</h1><ul>
<li>Sonar不叫Sonar 叫SonarQube</li>
<li>开源的 刁刁的 <a href="https://github.com/SonarSource/sonarqube" target="_blank" rel="external">项目地址</a></li>
<li>管理平台代码质量<br><img src="https://cloud.githubusercontent.com/assets/5317671/9132657/a49bf7ae-3d27-11e5-8db1-d7753dde5931.png" alt=""></li>
<li><p>支持plugin</p>
<ul>
<li>通过插件形式，可以支持包括    java,C#,C/C++,PL/SQL,Cobol,JavaScrip,Groovy等等二十几种编程语言的代码质量管理与检测</li>
<li><a href="http://docs.sonarqube.org/display/PLUG/Plugin+Library" target="_blank" rel="external">插件库</a></li>
<li>大部分免费 OC不免费 有<a href="https://github.com/octo-technology/sonar-objective-c" target="_blank" rel="external">第三方免费的</a></li>
</ul>
</li>
<li><p>Sonar的3个组成部分<br><img src="https://cloud.githubusercontent.com/assets/5317671/9132677/c17b8e66-3d27-11e5-8cd5-deb17c84e39b.png" alt=""></p>
<ul>
<li>Database (支持多种类型的数据库MySQL/Oracle) 配置sonar实例 存储分析结果</li>
<li>Web Server 浏览代码质量分析结果</li>
<li>Analyzers 分析代码的分析器</li>
</ul>
</li>
<li><p>Sonar Notes</p>
<ul>
<li>SonarQube的web server和database只能有一个</li>
<li>从性能上考虑 三个组件应该放在三个专有的电脑上,但是Database和Web Server可以安装在同一台电脑上</li>
<li>Datatbase和Analyzers不应该安装在同一台电脑上</li>
<li>Analyzers可以通过加电脑扩展</li>
<li>Database和Analyzers必须存在同一个网络内</li>
<li>所有的机子必须时间同步</li>
</ul>
</li>
<li><p>Analyzers</p>
<ul>
<li><code>SonarQube Runner</code>: recommended for all non-Maven projects</li>
<li><code>Maven</code>: recommended for all projects built with Maven</li>
<li><code>SonarQube Ant Task</code>: to integrate with projects built with Ant</li>
<li><code>Gradle</code>: to integrate with projects built with Gradle</li>
<li><code>CI Engine</code>: see Jenkins plugin or Hudson plugin or Bamboo plugin or AnthillPro plugin. Note that other CI engines can be used even if there is no SonarQube plugin available.</li>
</ul>
</li>
<li><p>Mac下跑通sonar所有流程需要的东西</p>
<ul>
<li>a Mac with Xcode</li>
<li>SonarQube</li>
<li>SonarQube Runner</li>
<li>xctool<ul>
<li>xctool是facebook开源的一个命令行工具，用来替代苹果的xcodebuild工具</li>
</ul>
</li>
<li>OCLint<ul>
<li>OCLint是一个静态代码分析器，可以检测的Objective-C代码（同时支持Ç和c + +），发现常见的问题：例如的if / else / try / catch和/最后声明出错，未被使用的本地实例和参数，过度复杂（有效值代码行数状语从句：常循环复杂度太高），冗余代码，代码异味，以及其他不好的代码。</li>
</ul>
</li>
<li>gcovr<ul>
<li>代码覆盖率分析工具</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="常用配置文件">常用配置文件</h3><h4 id="配置Sonar-Runner">配置Sonar-Runner</h4><ul>
<li><p>路径  &lt;放置sonar的目录&gt;/sonar-runner/2.4/libexec/conf/sonar-runner.properties</p>
</li>
<li><p>只摘录相关项</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#----- Default SonarQube server </span><br><span class="line">sonar<span class="class">.host</span><span class="class">.url</span>=http:<span class="comment">//localhost:9000</span></span><br><span class="line"></span><br><span class="line">#----- MySQL</span><br><span class="line">sonar<span class="class">.jdbc</span><span class="class">.url</span>=jdbc:mysql:<span class="comment">//192.168.22.22:3306/sonar?useUnicode=true&amp;amp;characterEncoding=utf8</span></span><br><span class="line"></span><br><span class="line">#----- Global database settings</span><br><span class="line">sonar<span class="class">.jdbc</span><span class="class">.username</span>=sonar</span><br><span class="line">sonar<span class="class">.jdbc</span><span class="class">.password</span>=sonar</span><br><span class="line"></span><br><span class="line">#----- Security (when <span class="string">'sonar.forceAuthentication'</span> is set to <span class="string">'true'</span>)</span><br><span class="line">sonar.login=admin</span><br><span class="line">sonar.password=admin</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="配置Database和web_server">配置Database和web server</h4><p><code>sonar.properties</code> </p>
<ul>
<li>路径  &lt;放置sonarqube的目录&gt;/sonarqube-5.1.2/conf/sonar.properties</li>
<li>只摘录相关项<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sonar<span class="class">.jdbc</span><span class="class">.username</span>=sonar  <span class="comment">// 数据库账号</span></span><br><span class="line">sonar<span class="class">.jdbc</span><span class="class">.password</span>=sonar  <span class="comment">// 数据库密码</span></span><br><span class="line"></span><br><span class="line">sonar<span class="class">.jdbc</span><span class="class">.url</span>=jdbc:mysql:<span class="comment">//192.168.22.22:3306/sonar?useUnicode=true&amp;characterEncoding=utf8&amp;rewriteBatchedStatements=true&amp;useConfigs=maxPerformance</span></span><br><span class="line"> <span class="comment">// MySql路径</span></span><br><span class="line"></span><br><span class="line">sonar<span class="class">.web</span><span class="class">.host</span>=<span class="number">0.0</span>.<span class="number">0.0</span>  <span class="comment">// web host</span></span><br><span class="line">sonar<span class="class">.web</span><span class="class">.context</span>=/sonar  <span class="comment">// web 路径</span></span><br><span class="line">sonar<span class="class">.web</span><span class="class">.port</span>=<span class="number">9000</span> <span class="comment">// 端口号</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="配置需要分析的项目_(需放置在项目根目录下)">配置需要分析的项目 (需放置在项目根目录下)</h4><p><code>run-sonar.sh</code> 分析项目的脚本 </p>
<ul>
<li>未做修改 直接拿来用</li>
</ul>
<p><code>sonar-project.properties</code>  项目的必要参数<br>只摘录相关项<br>看注释</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="preprocessor">##########################</span></span><br><span class="line"><span class="preprocessor"># Required configuration #</span></span><br><span class="line"><span class="preprocessor">##########################</span></span><br><span class="line"></span><br><span class="line">sonar.projectKey=<span class="number">51</span>offer</span><br><span class="line">sonar.projectName=<span class="number">51</span>offer</span><br><span class="line">sonar.projectVersion=<span class="number">1.9</span></span><br><span class="line">sonar.language=objc</span><br><span class="line"> </span><br><span class="line"><span class="preprocessor"># Project description</span></span><br><span class="line">sonar.projectDescription=test</span><br><span class="line"> </span><br><span class="line"><span class="preprocessor"># Path to source directories </span></span><br><span class="line">sonar.sources=<span class="number">51</span>offer</span><br><span class="line"><span class="preprocessor"># Path to test directories (comment if no test)</span></span><br><span class="line">sonar.tests=<span class="number">51</span>offerTests</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="preprocessor"># Xcode project configuration (.xcodeproj or .xcworkspace)</span></span><br><span class="line"><span class="preprocessor"># -&gt; If you have a project: configure only sonar.objectivec.project</span></span><br><span class="line"><span class="preprocessor"># -&gt; If you have a workspace: configure sonar.objectivec.workspace and sonar.objectivec.project</span></span><br><span class="line"><span class="preprocessor"># and use the later to specify which project(s) to include in the analysis (comma separated list)</span></span><br><span class="line">sonar.objectivec.project=<span class="number">51</span>offer.xcodeproj</span><br><span class="line">sonar.objectivec.workspace=<span class="number">51</span>offer.xcworkspace</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Scheme to build your application</span></span><br><span class="line">sonar.objectivec.appScheme=<span class="number">51</span>offer</span><br><span class="line"><span class="preprocessor"># Scheme to build and run your tests (comment following line of you don't have any tests)</span></span><br><span class="line"><span class="preprocessor"># sonar.objectivec.testScheme=myApplicationTests</span></span><br><span class="line"> </span><br><span class="line"><span class="preprocessor">##########################</span></span><br><span class="line"><span class="preprocessor"># Optional configuration #</span></span><br><span class="line"><span class="preprocessor">##########################</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Encoding of the source code</span></span><br><span class="line">sonar.sourceEncoding=UTF-<span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># JUnit report generated by run-sonar.sh is stored in sonar-reports/TEST-report.xml</span></span><br><span class="line"><span class="preprocessor"># Change it only if you generate the file on your own</span></span><br><span class="line"><span class="preprocessor"># The XML files have to be prefixed by TEST- otherwise they are not processed </span></span><br><span class="line"><span class="preprocessor"># sonar.junit.reportsPath=sonar-reports/</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Cobertura report generated by run-sonar.sh is stored in sonar-reports/coverage.xml</span></span><br><span class="line"><span class="preprocessor"># Change it only if you generate the file on your own</span></span><br><span class="line"><span class="preprocessor"># sonar.objectivec.coverage.reportPattern=sonar-reports/coverage*.xml</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># OCLint report generated by run-sonar.sh is stored in sonar-reports/oclint.xml</span></span><br><span class="line"><span class="preprocessor"># Change it only if you generate the file on your own</span></span><br><span class="line"><span class="preprocessor"># sonar.objectivec.oclint.report=sonar-reports/oclint.xml</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Paths to exclude from coverage report (tests, 3rd party libraries etc.)</span></span><br><span class="line"><span class="preprocessor"># sonar.objectivec.excludedPathsFromCoverage=pattern1,pattern2</span></span><br><span class="line">sonar.objectivec.excludedPathsFromCoverage=.*Tests.*</span><br><span class="line"></span><br><span class="line"><span class="preprocessor"># Project SCM settings</span></span><br><span class="line"><span class="preprocessor"># sonar.scm.enabled=true</span></span><br><span class="line"><span class="preprocessor"># sonar.scm.url=scm:git:https://...</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="参考资料:">参考资料:</h3><ul>
<li><a href="http://www.cnblogs.com/ishawn/p/3959521.html" target="_blank" rel="external">http://www.cnblogs.com/ishawn/p/3959521.html</a>   </li>
<li><a href="https://github.com/octo-technology/sonar-objective-c" target="_blank" rel="external">https://github.com/octo-technology/sonar-objective-c</a>   </li>
<li><a href="http://chapter31.com/2013/05/02/installing-sonar-source-on-mac-osx/" target="_blank" rel="external">http://chapter31.com/2013/05/02/installing-sonar-source-on-mac-osx/</a> </li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-网络信息安全" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/31/网络信息安全/" class="article-date">
  	<time datetime="2015-07-31T11:08:35.000Z" itemprop="datePublished">2015-07-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/31/网络信息安全/">网络信息安全</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="微信支付的网络安全_-_王胜">微信支付的网络安全 - 王胜</h2><h3 id="协议规则">协议规则</h3><ul>
<li>采用HTTPS传输</li>
<li>POST提交</li>
<li>MD5签名，请求和接收数据均需要校验签名，<a href="#安全规范">详见</a></li>
<li>调用申请退款、撤销订单接口需要商户证书</li>
</ul>
<h3 id="安全规范">安全规范</h3><ul>
<li>签名算法<ol>
<li>设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&amp;key2=value2…）拼接成字符串stringA。</li>
<li>在stringA最后拼接上key得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue</li>
</ol>
</li>
<li><p>生成随机数算法</p>
<p>微信支付API接口协议中包含字段nonce_str，主要保证签名不可预测。我们推荐生成随机数算法如下：调用随机数函数生成，将得到的值转换为字符串</p>
</li>
<li><p>商户证书</p>
<ul>
<li><p>获取商户证书</p>
<blockquote>
<p>微信支付接口中，涉及资金回滚的接口会使用到商户证书，包括退款、撤销接口。</p>
</blockquote>
</li>
<li><p>使用商户证书</p>
</li>
<li>商户证书安全</li>
</ul>
</li>
<li><p>商户回调API安全</p>
<p>在普通的网络环境下，HTTP请求存在DNS劫持、运营商插入广告、数据被窃取，正常数据被修改等安全风险。商户回调接口使用HTTPS协议可以保证数据传输的安全性。所以微信支付建议商户提供给微信支付的各种回调采用HTTPS协议。请参考：<a href="https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=10_4" target="_blank" rel="external">HTTPS搭建指南</a>。</p>
</li>
</ul>
<p>参考资料：<a href="https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_1" target="_blank" rel="external">微信支付</a></p>
<h2 id="安全『相对论』_-_曾铭">安全『相对论』 - 曾铭</h2><h3 id="角色">角色</h3><h4 id="介质">介质</h4><ul>
<li>服务器</li>
<li>API</li>
<li>网络传输过程</li>
<li>客户端</li>
</ul>
<h4 id="人">人</h4><ul>
<li>owner： 开发者 内部人员</li>
<li>用户：消费者、商家</li>
<li>『坏人们』：黑客（白帽）、『友商』、路过……</li>
</ul>
<p>分清角色才能明白设定一个安全逻辑是针对谁，解决什么问题。</p>
<h3 id="目标">目标</h3><ul>
<li>『一有适当的利润，资本就会非常胆壮起来。只要有10％的利润，它就会到处被人使用；有20％，就会活泼起来；有50％，就会引起积极的冒险；有100％，就会使人不顾一切法律；有300％，就会使人不怕犯罪，甚至不怕绞首的危险。』</li>
<li>没有绝对的安全，只有相对的安全</li>
<li>为了安全是否影响了普通用户？能否变通？</li>
<li>影响的是一个用户还是全部用户？</li>
<li>能否补救？主动？被动？</li>
<li>你不需要完美，你只需要比友商好一些</li>
</ul>
<h3 id="实践">实践</h3><p>聊聊发短信接口的案例</p>
<ul>
<li>get -&gt; post</li>
<li>限制单日单个手机号，（避免单个手机号过多骚扰，产品不完整，建议加提示）</li>
<li>限制单个 IP 请求次数 （有必要，但要适量放宽，要跟踪结果）</li>
<li>图形验证码 (把问题转化为计算机不擅长的问题来保障安全，有必要，用户体验有影响，可优化）</li>
<li>一种 API 加密方式（根本问题是：API 如何判断这个请求是可信的客户端发来的）</li>
</ul>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">客户端 - 网络传输 - API</span><br><span class="line"><span class="built_in">key</span>, 加密（签名）算法 sign=<span class="built_in">md5</span>(<span class="built_in">key</span>+url_path+time)</span><br></pre></td></tr></table></figure>
<h2 id="RSA_-李仙鹏">RSA -李仙鹏</h2><p>在公钥系统中，我们采用公钥加密，私钥解密的方式，使得报文能够比较安全的传输。</p>
<p>假设A和B通信，但他们之间不通过对称密钥，B有一个公钥$K_B^+$和一个私钥$K_B^-$。为了与B实现通信，A首先需要获得B的公钥$K_B^+$对报文m进行加密，即$K_B^+(m)$；B收到A的加密报文后用私钥$K_B^-$进行解密，即$K_B^-(K_B^+(m))=m$。其中的加解密算法通常使用RSA（RSA取创始人Ron Rivest, Adi Shamir, Leonard Adleman的姓氏首字母）。</p>
<h3 id="RSA工作方式">RSA工作方式</h3><p>加密时，首先把报文m做e次的幂运算，然后做模n的算数运算，即$m^e\%n$；解密则先把上述密文值做d次幂，再做模n运算，即$(m^e)^d\%n=m^\left(ed\right)\%n$。</p>
<h3 id="RSA工作原理推导">RSA工作原理推导</h3><p>为了解开RSA工作原理的神秘面纱，需要使用数论中的一个神奇结论：如果<strong><em>p和q是素数</em></strong>，且有$n=pq$，则$x^y\%n$与$x^\left(y\%\left(p-1\right)\left(q-1\right)\right)\%n$相等。应用这个结论，那我们的私钥解密为：$$(m^e)^d\%n=m^\left(ed\%\left(p-1\right)\left(q-1\right)\right)\%n$$</p>
<p>注意，$m&lt;n$，并且我们是这样选择e和d的：$ed-1$能被$\left(p-1\right)\left(q-1\right)$整除，等价地说$ed\%\left(p-1\right)\left(q-1\right)=1$，由此可得：$$(m^e)^d\%n=m^1\%n=m\qquad m&lt;n，n=pq,ed\%\left(p-1\right)\left(q-1\right)=1,p和q是素数$$</p>
<p>于是乎，就得到了我们希望的结果：先对m做e次幂（加密）再做d次幂（解密），然后做模n的算数运算，就可得到原始报文m。另外通过颠倒上述公式的加解密次序，一样能得到原来的m。<br>$$(m^e)^d\%n=m=(m^d)^e\%n\Rightarrow K_B^-(K_B^+(m))=m=K_B^+(K_B^-(m))$$</p>
<p>因此B对外公开的公钥$K_B^+$为二元组$(n,e)$，私钥$K_B^-$为二元组$(n,d)$</p>
<h4 id="举例验证">举例验证</h4><p>条件：$$m&lt;n，\quad n=pq,\quad ed\%\left(p-1\right)\left(q-1\right)=1,\quad p和q是素数$$</p>
<p>取简单的值：$$p=5,\quad q=7$$</p>
<p>那么可以推导出：$$n=pq=5*7=35,\quad (ed-1)\%(p-1)(q-1)=0\Rightarrow (ed-1)\%(5-1)(7-1)=0\Rightarrow (ed-1)\%24=0$$</p>
<p>于是，我们可以简单起见，为了减少计算量，设$ed-1$为$24$的1倍，那么我们可取值$$e=5,\quad d=5$$</p>
<p>假设传输明文为：$$m=3$$</p>
<p>那么综上所述，我们可以得出：</p>
<ul>
<li><p>加密，$m^e\%n=3^5\%35=33$</p>
</li>
<li><p>解密，$(m^e\%n)^d\%n=33^5\%35=3=m$，因此对RSA加密后的密文解密得到的就是原始的明文</p>
</li>
</ul>
<h2 id="iOS_越狱应用安全-潘君">iOS 越狱应用安全-潘君</h2><ul>
<li>对ipa砸壳</li>
<li>class-dump 导出头文件</li>
<li>头文件导入project方便查看</li>
<li>善用Xcode的搜索找需要hook的函数</li>
<li>hook函数完成不可告人的目的<ul>
<li><a href="http://blog.sina.com.cn/s/blog_45e2b66c01016jn5.html" target="_blank" rel="external">Message Hook</a></li>
</ul>
</li>
</ul>
<h3 id="参考资料">参考资料</h3><ul>
<li><a href="http://security.ios-wiki.com/" target="_blank" rel="external">iOS Security</a></li>
<li><a href="http://iosre.com/c/development-discussion" target="_blank" rel="external">iOSRE</a></li>
</ul>
<h1 id="网络安全_-_张超耀">网络安全 - 张超耀</h1><h2 id="主要特性">主要特性</h2><ul>
<li><p>保密性</p>
<ul>
<li>信息不泄露给非授权用户、实体或过程，或供其利用的特性。</li>
</ul>
</li>
<li><p>完整性</p>
<ul>
<li>数据未经授权不能进行改变的特性。即信息在存储或传输过程中保持不被修改、不被破坏和丢失的特性。</li>
</ul>
</li>
<li><p>可用性</p>
<ul>
<li>可被授权实体访问并按需求使用的特性。即当需要时能否存取所需的信息。例如网络环境下拒绝服务、破坏网络和有关系统的正常运行等都属于对可用性的攻击；</li>
</ul>
</li>
<li><p>可控性</p>
<ul>
<li>对信息的传播及内容具有控制能力。</li>
</ul>
</li>
<li><p>可审查性</p>
<ul>
<li>出现安全问题时提供依据与手段</li>
</ul>
</li>
</ul>
<h2 id="主要类型">主要类型</h2><h3 id="网络安全由于不同的环境和应用而产生了不同的类型。主要有以下几种:">网络安全由于不同的环境和应用而产生了不同的类型。主要有以下几种:</h3><ul>
<li><p>系统安全</p>
<ul>
<li>运行系统安全即保证信息处理和传输系统的安全。它侧重于保证系统正常运行。避免因为系统的崩演和损坏而对系统存储、处理和传输的消息造成破坏和损失。避免由于电磁泄翻，产生信息泄露，干扰他人或受他人干扰。</li>
</ul>
</li>
<li><p>网络的安全</p>
<ul>
<li>网络上系统信息的安全。包括用户口令鉴别，用户存取权限控制，数据存取权限、方式控制，安全审计。安全问题跟踩。计算机病毒防治，数据加密等。</li>
</ul>
</li>
<li><p>信息传播安全</p>
<ul>
<li>网络上信息传播安全，即信息传播后果的安全，包括信息过滤等。它侧重于防止和控制由非法、有害的信息进行传播所产生的后果，避免公用网络上大云自由传翰的信息失控。</li>
</ul>
</li>
<li><p>信息内容安全</p>
<ul>
<li>网络上信息内容的安全。它侧重于保护信息的保密性、真实性和完整性。避免攻击者利用系统的安全漏润进行窃听、冒充、诈编等有损于合法用户的行为。其本质是保护用户的利益和隐私。</li>
</ul>
</li>
</ul>
<h2 id="HTTP加密_-吴明">HTTP加密 -吴明</h2><ul>
<li>对称性加密<ul>
<li>加密双方使用同一个密钥进行加密和解密。密钥是控制加密及解密过程的指令。算法是一组规则，规定如何进行加密和解密</li>
<li>常用算法:<ul>
<li>DES、3DES、TDEA、Blowfish、RC2、RC4、RC5、IDEA、SKIPJACK、AES</li>
</ul>
</li>
</ul>
</li>
<li>非对称性加密<ul>
<li>非对称加密算法需要两个密钥：公开密钥（publickey）和私有密钥（privatekey）。公开密钥与私有密钥是一对，如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密；如果用私有密钥对数据进行加密，那么只有用对应的公开密钥才能解密。因为加密和解密使用的是两个不同的密钥，所以这种算法叫作非对称加密算法。</li>
<li>RSA、Elgamal、背包算法、Rabin、D-H、ECC（椭圆曲线加密算法）</li>
</ul>
</li>
<li>对称性加密示例<ul>
<li>sig计算<br>sig主要用来做校验，由BaseString和SecretKey通过HMAC-SHA1算法计算得到的。</li>
<li>BaseString 组成<br>BaseString由以下三部分组成：http方法名、请求url和参数，其中参数需要按照统一的规则进行编码和排序，具体规则如下：<br>根据参数名称将所有请求参数按照参数名字母的先后顺序逐个比较，进行升序排序（参数名注意区分大小写），然后使用=号连接参数名和编码后的参数值，最后使用_下划线连接经过上述处理后的参数，例如：<pre><code>
param1=encode(value1)_param2=encode(value2)_parma3=encode(value3)
</code></pre>
注：a、比如参数名：abcdef和abcDef，abc都是一样的，大写D的asi码在小写d的asi码前面，所以：abcDef排在abcdef前面
b、BaseString中的参数是指所有GET/POST的请求参数，但不包括sig参数，也不包括cookie或HTTP header字段
将http方法名、请求url和参数这三部分用”&”连接起来，然后再进行
encode编码即得到BaseString，使用伪代码描述以上过程如下：
<pre><code>
BaseString=encode(httpMethod+"&"+httpUrl+"&"+sorted_query_params.each{|p,v|p+"="+encode(v)}.join("_"))
</code></pre>
然后使用BaseString和SecretKey通过HMAC-SHA1算法计算sig，最后将计算
出的sig进行编码，使用伪代码描述签名过程如下：
encode (getHmacSHA1Sig(BaseString, SecretKey)）
- sig计算示例
例如某个请求的url为http://192.168.6.218:8080/test/jobplan/login，假设使用的ConsumerKey为eqsrje1tlarvvm54fwsjhcb4,使用的SecretKey为ks5t9fpiwmo3oanccu4f6eas,请求中用到的参数如下：
<pre><code>
consumer_key – eqsrje1tlarvvm54fwsjhcb4
hrid - 00016145
password - 7215ee9c7d9dc229d2921a40e899ec5f
fields - dspName
format – xml
timestamp - 2013-11-20 09:21:17
</code></pre>
首先依据上面的算法得出BaseString为:
<pre><code>
POST%26http%3A%2F%2F192.168.6.218%3A8080%2FfuannaEP%2Fjobplan%2Flogin%26consumer_key%3Deqsrje1tlarvvm54fwsjhcb4_fields%3DdspName_format%3Djson_hrid%3D00016145_password%3D7215ee9c7d9dc229d2921a40e899ec5f_timestamp%3D2013-11-20%2B09%253A21%253A17
</code></pre>
通过BaseString和SecretKey通过HMAC-SHA1算法计算所得的签名如下：
dqgTQkET7MxSShy1M4WXbWEKodA%3D
然后就可以发送请求，生成的http 请求链接如下：
<pre><code>
http://192.168.6.218:8080/test/jobplan/login?password=7215ee9c7d9dc229d2921a40e899ec5f&consumer_key=eqsrje1tlarvvm54fwsjhcb4&hrid=10057&format=xml&fields=dspName×tamp =2013-11-20 09:21:17&signature=dqgTQkET7MxSShy1M4WXbWEKodA%3D
</code></pre></li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-上海-Android-小伙伴一起来-51offer-玩吧" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/26/上海-Android-小伙伴一起来-51offer-玩吧/" class="article-date">
  	<time datetime="2015-07-26T16:08:35.000Z" itemprop="datePublished">2015-07-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/26/上海-Android-小伙伴一起来-51offer-玩吧/">[上海] Android 小伙伴一起来 51offer 玩吧</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>国内留学行业整体上还是一个传统中介行业，51offer 致力于让人们更方便的通过互联网留学。<br>留学学生和留学学校虽然五花八门，但既有的留学流程大体一致，相应的盈利模式也比较清晰。但与之对应的如何切实通过产品降低留学门槛，在更多的学生与学校之间建立便利的联系，还有很多好玩的事情可以做。<br>在互联网留学这一块，51offer 目前可以算国内第一，同时身为一个互联网从业者客观来说，这个行业各公司产品、技术各方面还非常烂（包括我们 51offer）。</p>
<p>要做的事情很多，要决定不做的事情更多，要把不好变好的事情也有不少。<br>如果你愿意挑战既有现状，喜欢用聪明的方式把事情做好，最好再对这个教育细分领域感兴趣，让我们一起来做些有意义的事。</p>
<p>本人曾铭，ID: mithvv，目前负责公司移动团队。丁香园和百姓网的工作经历让我相信小而扁平的团队组织更加高效。如果前几天耗子和玉伯你站在耗子的一方，嗯，你会喜欢我们目前的合作方式。（ಥ_ಥ，想说玉伯也是我非常尊敬的前辈，他的观点适合支付宝……）</p>
<h2 id="公司状况">公司状况</h2><ul>
<li>刚过 B 轮，<a href="http://cn.technode.com/post/2015-07-22/51offer-financing/" target="_blank" rel="external">两年内完成 5000 万美元融资</a>，自身盈利也一直很好，生死存亡的问题你暂时不用担心</li>
<li>我们基本不加班甚至很难让你加班，因为我们所有的加班（以小时计）都可以调休。我个人是每周三调休带孩子玩，周日上一天班 ；）</li>
<li>公司在上海火车站边上，地铁出站过个路口就到（下雨天忘带伞问题都不大）</li>
<li>技术团队人数目前 50+，谨慎扩张中</li>
<li>技术语言各端不同。后端主要是 Java（大部分），搜索 C++，爬虫 Python，前端和移动各公司应该区别不大，移动这边 Swift 正在一起学习，计划 2.0 正式版出来后用到产品中</li>
</ul>
<h2 id="招聘要求（不罗列每个职位的技术细节了，意义不大）">招聘要求（不罗列每个职位的技术细节了，意义不大）</h2><ul>
<li>招 Android、Java、前端工程师，是工程师或者攻城狮，不招码农</li>
<li>至少作为主程参与过一个产品的完整开发过程</li>
<li>会或者可以快速学会 git，这样我们能快速在 Github 上玩起来</li>
<li>有经验或者了解持续集成、自动化测试及其意义，这样我们在如何快速开发上比较容易达成一致</li>
<li>能把一个技术点用自己的语言阐述清楚，我们的周技术分享期待你的 ShowTime</li>
<li>加分项<ul>
<li>践行开源</li>
<li>能跟产品从产品角度阐述清楚技术逻辑</li>
<li>有稳定维护的 Blog 或 Github 帐号</li>
<li>能自由访问国际互联网（如果不会我们教你，这点其实也必备）</li>
<li>对技术有热情，（比如上面一些条件你并不完全满足，但你自认思路清晰，学习能力强，就是要来面一面。我们非常非常欢迎对技术有热情的你！）</li>
</ul>
</li>
</ul>
<h2 id="薪资待遇">薪资待遇</h2><ul>
<li>整体 10k - 20k 之间，具体面议，牛人没法封顶</li>
</ul>
<p>你都看到这了，简历快发给我吧: ming.z[at]51offer.com （24 小时内必有反馈哦）<br>有意聊天者时间你定，地点我定（工作忙，上海火车站附近即可），咖啡我请 ；）</p>
<p>原始链接：<a href="http://51offer.github.io/2015/07/26/%E4%B8%8A%E6%B5%B7-Android-%E5%B0%8F%E4%BC%99%E4%BC%B4%E4%B8%80%E8%B5%B7%E6%9D%A5-51offer-%E7%8E%A9%E5%90%A7/" target="_blank" rel="external">51offer-blog</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/5/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 移动组团队
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>